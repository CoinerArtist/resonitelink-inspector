import{a as R,f as z,c as Re}from"../chunks/Bf8U6x4b.js";import{v as kt,y as Ge,z as ye,aJ as Gt,aK as Ht,h as ae,A as Se,e as we,I as e,ak as Zt,a as qe,i as Yt,w as Vt,x as Wt,s as Jt,al as Kt,as as $t,aa as ft,c as oe,b as He,aL as en,aM as wt,T as tn,aN as Ft,ar as Ke,aO as nn,Y as Ze,aP as an,aQ as rn,aE as ln,aR as de,r as St,p as It,aS as Ue,D as Rt,aT as sn,aU as un,ap as on,d as cn,am as dn,aV as Tt,B as vn,aW as Dt,aX as mn,aY as fn,ah as gn,aZ as hn,a_ as bn,a$ as yn,b0 as pn,b1 as _n,b2 as xn,aG as kn,g as wn,C as Fn,J as Et,k as A,t as H,l as P,n as p,o as y,aH as ce,q as d,ab as J,K as q,b3 as gt,X as xe,b4 as zt,j as Q,aI as w,u as ze,b5 as $e}from"../chunks/DRdJxvsZ.js";import{d as X,a as f,s as Y,e as et}from"../chunks/ChYmOSv1.js";import{p as ve,i as K,b as Sn}from"../chunks/DShB0px0.js";function fe(r,t=[],n=[],a){var i=ae,l=null;if(i&&(kt(),l=Ge(!1)),n.length===0&&t.every(s=>s.settled)){a(r),i&&ye(l);return}const u=Gt();if(i){var c=we;ye(l)}Ht(t,[],n,s=>{i&&(Se(!0),ye(c));try{for(const o of s)e(o);a(r,...s)}finally{i&&Se(!1),u()}})}function In(r,t){return t}function Rn(r,t,n){for(var a=[],i=t.length,l,u=t.length,c=0;c<i;c++){let m=t[c];It(m,()=>{if(l){if(l.pending.delete(m),l.done.add(m),l.pending.size===0){var g=r.outrogroups;Ye(Ke(l.done)),g.delete(l),g.size===0&&(r.outrogroups=null)}}else u-=1},!1)}if(u===0){var s=a.length===0&&n!==null;if(s){var o=n,v=o.parentNode;on(v),v.append(o),r.items.clear()}Ye(t,!s)}else l={pending:new Set(t),done:new Set},(r.outrogroups??=new Set).add(l)}function Ye(r,t=!0){for(var n=0;n<r.length;n++)cn(r[n],t)}var ht;function pe(r,t,n,a,i,l=null){var u=r,c=new Map,s=(t&wt)!==0;if(s){var o=r;u=ae?ye(Zt(o)):o.appendChild(qe())}ae&&kt();var v=null,m=tn(()=>{var h=n();return Ft(h)?h:h==null?[]:Ke(h)}),g,x=!0;function k(){b.fallback=v,Tn(b,g,u,t,a),v!==null&&(g.length===0?(v.f&de)===0?St(v):(v.f^=de,Fe(v,null,u)):It(v,()=>{v=null}))}var T=Yt(()=>{g=e(m);var h=g.length;let L=!1;if(ae){var M=Vt(u)===Wt;M!==(h===0)&&(u=Ge(),ye(u),Se(!1),L=!0)}for(var E=new Set,C=oe,N=Jt(),I=0;I<h;I+=1){ae&&we.nodeType===Kt&&we.data===$t&&(u=we,L=!0,Se(!1));var B=g[I],D=a(B,I),U=x?null:c.get(D);U?(U.v&&ft(U.v,B),U.i&&ft(U.i,I),N&&C.unskip_effect(U.e)):(U=Dn(c,x?u:ht??=qe(),B,D,I,i,t,n),x||(U.e.f|=de),c.set(D,U)),E.add(D)}if(h===0&&l&&!v&&(x?v=He(()=>l(u)):(v=He(()=>l(ht??=qe())),v.f|=de)),h>E.size&&en(),ae&&h>0&&ye(Ge()),!x)if(N){for(const[_,te]of c)E.has(_)||C.skip_effect(te.e);C.oncommit(k),C.ondiscard(()=>{})}else k();L&&Se(!0),e(m)}),b={effect:T,items:c,outrogroups:null,fallback:v};x=!1,ae&&(u=we)}function ke(r){for(;r!==null&&(r.f&sn)===0;)r=r.next;return r}function Tn(r,t,n,a,i){var l=(a&un)!==0,u=t.length,c=r.items,s=ke(r.effect.first),o,v=null,m,g=[],x=[],k,T,b,h;if(l)for(h=0;h<u;h+=1)k=t[h],T=i(k,h),b=c.get(T).e,(b.f&de)===0&&(b.nodes?.a?.measure(),(m??=new Set).add(b));for(h=0;h<u;h+=1){if(k=t[h],T=i(k,h),b=c.get(T).e,r.outrogroups!==null)for(const U of r.outrogroups)U.pending.delete(b),U.done.delete(b);if((b.f&de)!==0)if(b.f^=de,b===s)Fe(b,null,n);else{var L=v?v.next:s;b===r.effect.last&&(r.effect.last=b.prev),b.prev&&(b.prev.next=b.next),b.next&&(b.next.prev=b.prev),me(r,v,b),me(r,b,L),Fe(b,L,n),v=b,g=[],x=[],s=ke(v.next);continue}if((b.f&Ue)!==0&&(St(b),l&&(b.nodes?.a?.unfix(),(m??=new Set).delete(b))),b!==s){if(o!==void 0&&o.has(b)){if(g.length<x.length){var M=x[0],E;v=M.prev;var C=g[0],N=g[g.length-1];for(E=0;E<g.length;E+=1)Fe(g[E],M,n);for(E=0;E<x.length;E+=1)o.delete(x[E]);me(r,C.prev,N.next),me(r,v,C),me(r,N,M),s=M,v=N,h-=1,g=[],x=[]}else o.delete(b),Fe(b,s,n),me(r,b.prev,b.next),me(r,b,v===null?r.effect.first:v.next),me(r,v,b),v=b;continue}for(g=[],x=[];s!==null&&s!==b;)(o??=new Set).add(s),x.push(s),s=ke(s.next);if(s===null)continue}(b.f&de)===0&&g.push(b),v=b,s=ke(b.next)}if(r.outrogroups!==null){for(const U of r.outrogroups)U.pending.size===0&&(Ye(Ke(U.done)),r.outrogroups?.delete(U));r.outrogroups.size===0&&(r.outrogroups=null)}if(s!==null||o!==void 0){var I=[];if(o!==void 0)for(b of o)(b.f&Ue)===0&&I.push(b);for(;s!==null;)(s.f&Ue)===0&&s!==r.fallback&&I.push(s),s=ke(s.next);var B=I.length;if(B>0){var D=(a&wt)!==0&&u===0?n:null;if(l){for(h=0;h<B;h+=1)I[h].nodes?.a?.measure();for(h=0;h<B;h+=1)I[h].nodes?.a?.fix()}Rn(r,I,D)}}l&&Rt(()=>{if(m!==void 0)for(b of m)b.nodes?.a?.apply()})}function Dn(r,t,n,a,i,l,u,c){var s=(u&an)!==0?(u&rn)===0?ln(n,!1,!1):Ze(n):null,o=(u&nn)!==0?Ze(i):null;return{v:s,i:o,e:He(()=>(l(t,s??n,o??i,c),()=>{r.delete(a)}))}}function Fe(r,t,n){if(r.nodes)for(var a=r.nodes.start,i=r.nodes.end,l=t&&(t.f&de)===0?t.nodes.start:n;a!==null;){var u=dn(a);if(l.before(a),a===i)return;a=u}}function me(r,t,n){t===null?r.effect.first=n:t.next=n,n===null?r.effect.last=t:n.prev=t}function En(r,t){return r==null?null:String(r)}function he(r,t,n,a){var i=r.__style;if(ae||i!==t){var l=En(t);(!ae||l!==r.getAttribute("style"))&&(l==null?r.removeAttribute("style"):r.style.cssText=l),r.__style=t}return a}function Mt(r,t,n=!1){if(r.multiple){if(t==null)return;if(!Ft(t))return mn();for(var a of r.options)a.selected=t.includes(Ie(a));return}for(a of r.options){var i=Ie(a);if(fn(i,t)){a.selected=!0;return}}(!n||t!==void 0)&&(r.selectedIndex=-1)}function zn(r){var t=new MutationObserver(()=>{Mt(r,r.__value)});t.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),gn(()=>{t.disconnect()})}function Lt(r,t,n=t){var a=new WeakSet,i=!0;Tt(r,"change",l=>{var u=l?"[selected]":":checked",c;if(r.multiple)c=[].map.call(r.querySelectorAll(u),Ie);else{var s=r.querySelector(u)??r.querySelector("option:not([disabled])");c=s&&Ie(s)}n(c),oe!==null&&a.add(oe)}),vn(()=>{var l=t();if(r===document.activeElement){var u=Dt??oe;if(a.has(u))return}if(Mt(r,l,i),i&&l===void 0){var c=r.querySelector(":checked");c!==null&&(l=Ie(c),n(l))}r.__value=l,i=!1}),zn(r)}function Ie(r){return"__value"in r?r.__value:r.value}const Mn=Symbol("is custom element"),Ln=Symbol("is html"),Cn=pn?"link":"LINK";function F(r){if(ae){var t=!1,n=()=>{if(!t){if(t=!0,r.hasAttribute("value")){var a=r.value;$(r,"value",null),r.value=a}if(r.hasAttribute("checked")){var i=r.checked;$(r,"checked",null),r.checked=i}}};r.__on_r=n,Rt(n),hn()}}function $(r,t,n,a){var i=Nn(r);ae&&(i[t]=r.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&r.nodeName===Cn)||i[t]!==(i[t]=n)&&(t==="loading"&&(r[bn]=n),n==null?r.removeAttribute(t):typeof n!="string"&&On(r).includes(t)?r[t]=n:r.setAttribute(t,n))}function Nn(r){return r.__attributes??={[Mn]:r.nodeName.includes("-"),[Ln]:r.namespaceURI===yn}}var bt=new Map;function On(r){var t=r.getAttribute("is")||r.nodeName,n=bt.get(t);if(n)return n;bt.set(t,n=[]);for(var a,i=r,l=Element.prototype;l!==i;){a=xn(i);for(var u in a)a[u].set&&n.push(u);i=_n(i)}return n}function S(r,t,n=t){var a=new WeakSet;Tt(r,"input",async i=>{var l=i?r.defaultValue:r.value;if(l=Qe(r)?Xe(l):l,n(l),oe!==null&&a.add(oe),await kn(),l!==(l=t())){var u=r.selectionStart,c=r.selectionEnd,s=r.value.length;if(r.value=l??"",c!==null){var o=r.value.length;u===c&&c===s&&o>s?(r.selectionStart=o,r.selectionEnd=o):(r.selectionStart=u,r.selectionEnd=Math.min(c,o))}}}),(ae&&r.defaultValue!==r.value||wn(t)==null&&r.value)&&(n(Qe(r)?Xe(r.value):r.value),oe!==null&&a.add(oe)),Fn(()=>{var i=t();if(r===document.activeElement){var l=Dt??oe;if(a.has(l))return}Qe(r)&&i===Xe(r.value)||r.type==="date"&&!i&&!r.value||i!==r.value&&(r.value=i??"")})}function Qe(r){var t=r.type;return t==="number"||t==="range"}function Xe(r){return r===""?null:+r}const An={byte:"number","byte[]":"number[]","byte?":"number | null",ushort:"number","ushort[]":"number[]","ushort?":"number | null",uint:"number","uint[]":"number[]","uint?":"number | null",ulong:"number","ulong[]":"number[]","ulong?":"number | null",sbyte:"number","sbyte[]":"number[]","sbyte?":"number | null",short:"number","short[]":"number[]","short?":"number | null",int:"number","int[]":"number[]","int?":"number | null",long:"number","long[]":"number[]","long?":"number | null",float:"number","float[]":"number[]","float?":"number | null",double:"number","double[]":"number[]","double?":"number | null",decimal:"number","decimal[]":"number[]","decimal?":"number | null",bool:"boolean","bool[]":"boolean[]","bool?":"boolean | null",char:"string","char[]":"string[]","char?":"string | null",string:"string | null","string[]":"(string | null)[]",Uri:"string","Uri[]":"string[]",DateTime:"string","DateTime[]":"string[]","DateTime?":"string | null",TimeSpan:"string","TimeSpan[]":"string[]","TimeSpan?":"string | null",color:"color","color[]":"color[]","color?":"color | null",colorX:"colorX","colorX[]":"colorX[]","colorX?":"colorX | null",color32:"color","color32[]":"color[]","color32?":"color | null",Rect:"Rect","Rect[]":"Rect[]","Rect?":"Rect | null",IntRect:"Rect","IntRect[]":"Rect[]","IntRect?":"Rect | null",BoundingBox:"BoundingBox","BoundingBox[]":"BoundingBox[]","BoundingBox?":"BoundingBox | null",float2:"number2","float2[]":"number2[]","float2?":"number2 | null",double2:"number2","double2[]":"number2[]","double2?":"number2 | null",byte2:"number2","byte2[]":"number2[]","byte2?":"number2 | null",ushort2:"number2","ushort2[]":"number2[]","ushort2?":"number2 | null",uint2:"number2","uint2[]":"number2[]","uint2?":"number2 | null",ulong2:"number2","ulong2[]":"number2[]","ulong2?":"number2 | null",sbyte2:"number2","sbyte2[]":"number2[]","sbyte2?":"number2 | null",short2:"number2","short2[]":"number2[]","short2?":"number2 | null",int2:"number2","int2[]":"number2[]","int2?":"number2 | null",long2:"number2","long2[]":"number2[]","long2?":"number2 | null",bool2:"boolean2","bool2[]":"boolean2[]","bool2?":"boolean2 | null",float3:"number3","float3[]":"number3[]","float3?":"number3 | null",double3:"number3","double3[]":"number3[]","double3?":"number3 | null",byte3:"number3","byte3[]":"number3[]","byte3?":"number3 | null",ushort3:"number3","ushort3[]":"number3[]","ushort3?":"number3 | null",uint3:"number3","uint3[]":"number3[]","uint3?":"number3 | null",ulong3:"number3","ulong3[]":"number3[]","ulong3?":"number3 | null",sbyte3:"number3","sbyte3[]":"number3[]","sbyte3?":"number3 | null",short3:"number3","short3[]":"number3[]","short3?":"number3 | null",int3:"number3","int3[]":"number3[]","int3?":"number3 | null",long3:"number3","long3[]":"number3[]","long3?":"number3 | null",bool3:"boolean3","bool3[]":"boolean3[]","bool3?":"boolean3 | null",float4:"number4","float4[]":"number4[]","float4?":"number4 | null",double4:"number4","double4[]":"number4[]","double4?":"number4 | null",byte4:"number4","byte4[]":"number4[]","byte4?":"number4 | null",ushort4:"number4","ushort4[]":"number4[]","ushort4?":"number4 | null",uint4:"number4","uint4[]":"number4[]","uint4?":"number4 | null",ulong4:"number4","ulong4[]":"number4[]","ulong4?":"number4 | null",sbyte4:"number4","sbyte4[]":"number4[]","sbyte4?":"number4 | null",short4:"number4","short4[]":"number4[]","short4?":"number4 | null",int4:"number4","int4[]":"number4[]","int4?":"number4 | null",long4:"number4","long4[]":"number4[]","long4?":"number4 | null",bool4:"boolean4","bool4[]":"boolean4[]","bool4?":"boolean4 | null",floatQ:"numberQ","floatQ[]":"numberQ[]","floatQ?":"numberQ | null",doubleQ:"numberQ","doubleQ[]":"numberQ[]","doubleQ?":"numberQ | null",float2x2:"number2x2","float2x2[]":"number2x2[]","float2x2?":"number2x2 | null",double2x2:"number2x2","double2x2[]":"number2x2[]","double2x2?":"number2x2 | null",float3x3:"number3x3","float3x3[]":"number3x3[]","float3x3?":"number3x3 | null",double3x3:"number3x3","double3x3[]":"number3x3[]","double3x3?":"number3x3 | null",float4x4:"number4x4","float4x4[]":"number4x4[]","float4x4?":"number4x4 | null",double4x4:"number4x4","double4x4[]":"number4x4[]","double4x4?":"number4x4 | null",enum:"string","enum?":"string | null"};function Ct(r){return An[r]}function Nt(r){return r.endsWith("?")}function Pn(r){return r.endsWith("[]")}function yt(r){return Nt(r)?r.slice(0,-1):Pn(r)?r.slice(0,-2):r}class Bn{socket=null;awaitingPromises=new Map;listeners={open:[],close:[]};connect(t){return new Promise((n,a)=>{this.socket!==null&&this.socket.close(),this.socket=new WebSocket(t),this.socket.addEventListener("open",()=>{n();for(const i of this.listeners.open)i()}),this.socket.addEventListener("close",()=>{a(new Error(`Failed to connect to ${t}.`));for(const i of this.listeners.close)i()}),this.socket.addEventListener("message",i=>{const l=JSON.parse(i.data);if(this.awaitingPromises.has(l.sourceMessageId)){const u=l.sourceMessageId,[c,s]=this.awaitingPromises.get(u);this.awaitingPromises.delete(u),l.success?c(l):s(l)}else throw console.error(l),new Error(`Received a message (${l.sourceMessageId}) without a matching Promise.`)})})}disconnect(){this.socket!==null&&(this.socket.close(),this._sessionId=null,this.awaitingPromises.clear())}addEventListener(t,n){this.listeners[t].push(n)}removeEventListener(t,n){const a=this.listeners[t].indexOf(n);a>0&&this.listeners[t].splice(a,1)}get readyState(){return this.socket?this.socket.readyState:WebSocket.CLOSED}messageId=0;getMessageId(){return this.messageId++}_sessionId=null;get sessionId(){return this._sessionId}id=0;getUniqueId(){if(this._sessionId===null)throw new Error("You need to call `requestSessionData()` once before using `getUniqueId()`");return`TS${this._sessionId}_${(this.id++).toString(16)}`}sendRequest(t){if(this.socket===null)throw new Error("You have to call `connect` before sending a request.");if(this.readyState!==WebSocket.OPEN)throw new Error(`Socket(${this.socket.url}) is ${["CONNECTING","OPEN but wasn't earlier","CLOSING","CLOSED"][this.socket.readyState]}.`);const n=this.getMessageId();return new Promise((a,i)=>{const l=n.toString(16);this.awaitingPromises.set(l,[a,i]),this.socket.send(JSON.stringify({...t,messageId:l}))})}async requestSessionData(){const t=await this.sendRequest({$type:"requestSessionData"});return this._sessionId=t.uniqueSessionId,t}addComponent(t,n){return this.sendRequest({$type:"addComponent",containerSlotId:t,data:n})}updateComponent(t){return this.sendRequest({$type:"updateComponent",data:t})}getComponent(t){return this.sendRequest({$type:"getComponent",componentId:t})}removeComponent(t){return this.sendRequest({$type:"removeComponent",componentId:t})}addSlot(t){return this.sendRequest({$type:"addSlot",data:t})}updateSlot(t){return this.sendRequest({$type:"updateSlot",data:t})}getSlot(t,n=0,a=!1){return this.sendRequest({$type:"getSlot",slotId:t,depth:n,includeComponentData:a})}removeSlot(t){return this.sendRequest({$type:"removeSlot",slotId:t})}getComponentDefinition(t,n=!1){return this.sendRequest({$type:"getComponentDefinition",componentType:t,flattened:n})}getComponentTypeList(t){return this.sendRequest({$type:"getComponentTypeList",categoryPath:t})}getEnumDefinition(t){return this.sendRequest({$type:"getEnumDefinition",type:t})}getGenericTypeDefinition(t){return this.sendRequest({$type:"getGenericTypeDefinition",genericInstanceType:t})}getSyncObjectDefinition(t,n=!1){return this.sendRequest({$type:"getSyncObjectDefinition",syncObjectType:t,flattened:n})}getTypeDefinition(t){return this.sendRequest({$type:"getTypeDefinition",type:t})}dataModelOperationBatch(t){return this.sendRequest({$type:"dataModelOperationBatch",operations:t})}batch(){return new qn(this)}}class qn{operations=[];link;constructor(t){this.link=t}send(){return this.link.dataModelOperationBatch(this.operations)}addOperation(t){return this.operations.push(t),this}addComponent(t,n){return this.addOperation({$type:"addComponent",containerSlotId:t,data:n})}updateComponent(t){return this.addOperation({$type:"updateComponent",data:t})}getComponent(t){return this.addOperation({$type:"getComponent",componentId:t})}removeComponent(t){return this.addOperation({$type:"removeComponent",componentId:t})}addSlot(t){return this.addOperation({$type:"addSlot",data:t})}updateSlot(t){return this.addOperation({$type:"updateSlot",data:t})}getSlot(t,n=0,a=!1){return this.addOperation({$type:"getSlot",slotId:t,depth:n,includeComponentData:a})}removeSlot(t){return this.addOperation({$type:"removeSlot",slotId:t})}}const O=Et({linkOpen:!1,resoniteLinkMode:!1,rootSlotId:"Root",selectedSlot:null,sendNotification:()=>{}}),G=new Bn;G.addEventListener("open",async()=>{await G.requestSessionData(),O.linkOpen=!0});G.addEventListener("close",()=>{O.linkOpen=!1,O.selectedSlot=""});var Un=z('<button class="svelte-1l6mkur"><span class="svelte-1l6mkur">✔</span></button>');function ee(r,t){A(t,!0);let n=ve(t,"checked",15,!1),a=ve(t,"onclick",3,()=>{});function i(){n(!n()),a()()}var l=Un(),u=p(l);y(l),H(()=>he(u,`visibility:${n()?"visible":"hidden"};`)),f("click",l,i),R(r,l),P()}X(["click"]);var Qn=z('<div class="svelte-anx9w7"><span><input placeholder="url" class="svelte-anx9w7"/></span> <button>Connect</button> <span><!> ResoniteLink Info</span> <span id="version" class="svelte-anx9w7"><a id="readme" href="https://github.com/CoinerArtist/resonitelink-inspector" class="svelte-anx9w7">README.md</a> <a id="changelog" href="https://github.com/CoinerArtist/resonitelink-inspector/blob/main/changelog.md" class="svelte-anx9w7">v0.0.6</a></span></div>');function Xn(r,t){A(t,!0);let n=ce(Et(localStorage.getItem("ResoniteLinkUrl")||"ws://localhost:PORT"));function a(){localStorage.setItem("ResoniteLinkUrl",e(n))}O.resoniteLinkMode=JSON.parse(localStorage.getItem("ResoniteLinkMode")||"false");function i(){localStorage.setItem("ResoniteLinkMode",JSON.stringify(O.resoniteLinkMode))}function l(){G.connect(e(n)).catch(()=>{O.sendNotification(`Failed to connect to "${e(n)}"`)})}var u=Qn(),c=p(u),s=p(c);F(s),y(c);var o=d(c,2),v=d(o,2),m=p(v);ee(m,{onclick:i,get checked(){return O.resoniteLinkMode},set checked(g){O.resoniteLinkMode=g}}),J(),y(v),J(2),y(u),f("keyup",s,a),S(s,()=>e(n),g=>q(n,g)),f("click",o,l),R(r,u),P()}X(["keyup","click"]);class Te extends Map{#e=new Map;#t=ce(0);#n=ce(0);#l=gt||-1;constructor(t){if(super(),t){for(var[n,a]of t)super.set(n,a);this.#n.v=super.size}}#a(t){return gt===this.#l?ce(t):Ze(t)}has(t){var n=this.#e,a=n.get(t);if(a===void 0){var i=super.get(t);if(i!==void 0)a=this.#a(0),n.set(t,a);else return e(this.#t),!1}return e(a),!0}forEach(t,n){this.#r(),super.forEach(t,n)}get(t){var n=this.#e,a=n.get(t);if(a===void 0){var i=super.get(t);if(i!==void 0)a=this.#a(0),n.set(t,a);else{e(this.#t);return}}return e(a),super.get(t)}set(t,n){var a=this.#e,i=a.get(t),l=super.get(t),u=super.set(t,n),c=this.#t;if(i===void 0)i=this.#a(0),a.set(t,i),q(this.#n,super.size),xe(c);else if(l!==n){xe(i);var s=c.reactions===null?null:new Set(c.reactions),o=s===null||!i.reactions?.every(v=>s.has(v));o&&xe(c)}return u}delete(t){var n=this.#e,a=n.get(t),i=super.delete(t);return a!==void 0&&(n.delete(t),q(this.#n,super.size),q(a,-1),xe(this.#t)),i}clear(){if(super.size!==0){super.clear();var t=this.#e;q(this.#n,0);for(var n of t.values())q(n,-1);xe(this.#t),t.clear()}}#r(){e(this.#t);var t=this.#e;if(this.#n.v!==t.size){for(var n of super.keys())if(!t.has(n)){var a=this.#a(0);t.set(n,a)}}for([,a]of this.#e)e(a)}keys(){return e(this.#t),super.keys()}values(){return this.#r(),super.values()}entries(){return this.#r(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return e(this.#n),super.size}}const be=new Te;function W(r){return G.getSlot(r).then(t=>(be.set(r,t.data),t.data)).catch(()=>(be.set(r,null),null))}async function pt(r){const n=(await G.dataModelOperationBatch(r.map(a=>({$type:"getSlot",slotId:a})))).responses;for(let a=0;a<r.length;a++)n[a].success?be.set(r[a],n[a].data):be.delete(r[a])}const Ve=new Te;function Ee(r){return G.getComponent(r).then(t=>(Ve.set(r,t.data),t.data)).catch(()=>(Ve.delete(r),null))}function _t(r){return r.replace(/<.+>$/,"<>")}const Me=new Te;async function jn(r){if(!Me.has(r)){const t=await G.getComponentDefinition(r,!0);Me.set(r,t.definition)}}const We=new Te;async function Gn(r){if(!We.has(r)){const t=await G.getSyncObjectDefinition(r,!0);We.set(r,t.definition)}}const Le=new Te,xt=new Set;async function Ot(r){if(!xt.has(r)){let t=function(l){l.$type==="field"||l.$type==="array"?a.push(l.valueType):l.$type==="list"?t(l.elementDefinition):l.$type==="syncObject"&&a.push(l.type)};xt.add(r);const n=(await G.getTypeDefinition(r)).definition,a=[];if(a.push(...n.genericArguments||[]),n.isComponent){const l=_t(r);await jn(l);const u=Me.get(l);for(const c of Object.values(u.members))t(c)}else if(n.isSyncObject){const l=_t(r);await Gn(l);const u=We.get(l);for(const c of Object.values(u.members))t(c)}else if(n.isEnum&&!Le.has(n.name)){const l=(await G.getEnumDefinition(n.fullTypeName)).definition;Le.set(n.name,Object.keys(l.values))}const i=[];for(;a.length;){const l=a.pop();l.isGenericParameter||(i.push(l),a.push(...l.genericArguments||[]))}for(const l of i)Ot(l.type)}}var Hn=z('<span id="info" class="svelte-11f3pda"> </span>'),Zn=z('<div id="children" class="svelte-11f3pda"><!></div>'),Yn=z('<div><div id="outer" class="svelte-11f3pda"><button class="svelte-11f3pda"><div> </div></button> <span id="name" class="svelte-11f3pda"> <!></span> <span id="check" class="svelte-11f3pda"><!></span></div> <!></div>');function At(r,t){A(t,!0);let n=ve(t,"unfolded",7,!1),a=ve(t,"persistent",3,!0),i=ve(t,"active",3,!0);async function l(){await W(t.slotId),(e(s).children||[]).length>0?n(!n()):n(!1)}async function u(){const T=Date.now();T-o>500?(o=T,await W(t.slotId),O.resoniteLinkMode&&console.log(`${e(s).name.value} (${t.slotId})`,e(s))):(o=0,O.selectedSlot=t.slotId)}function c(){G.updateSlot({id:t.slotId,isActive:e(s).isActive}).finally(async()=>{await W(t.slotId)})}var s,o,v,m,g=zt([()=>W(t.slotId),()=>s=w(()=>be.get(t.slotId)),()=>o=0,()=>v=w(()=>O.selectedSlot==t.slotId?"--heroYellow":a()?e(s).isPersistent.value?"--light":"--heroOrange":"--midOrange"),()=>m=w(()=>e(s).isActive.value?i()?"1":"0.7":"0.5")]),x=Re(),k=Q(x);fe(k,[g[4]],void 0,T=>{var b=h=>{var L=Yn(),M=p(L),E=p(M),C=p(E),N=p(C,!0);y(C),y(E);var I=d(E,2),B=p(I),D=d(B);fe(D,[g[3]],void 0,re=>{var ie=le=>{var ge=Hn(),se=p(ge);y(ge),H(()=>Y(se,`(${t.slotId??""})`),void 0,void 0,[g[4]]),R(le,ge)};K(re,le=>{O.resoniteLinkMode&&le(ie)})}),y(I);var U=d(I,2),_=p(U);fe(_,[g[4],g[4]],void 0,re=>{ee(_,{get onclick(){return c},get checked(){return e(s).isActive.value},set checked(ie){e(s).isActive.value=ie}})}),y(U),y(M);var te=d(M,2);{var _e=re=>{var ie=Zn(),le=p(ie);fe(le,[g[4]],void 0,ge=>{pe(ge,17,()=>e(s).children||[],se=>se.id,(se,Ce)=>{fe(se,[g[3],g[4]],void 0,De=>{let Ne=w(()=>a()&&e(s).isPersistent.value),Oe=w(()=>i()&&e(s).isActive.value);At(De,{get slotId(){return e(Ce).id},get persistent(){return e(Ne)},get active(){return e(Oe)}})}),J()})}),y(ie),R(re,ie)};K(te,re=>{n()&&re(_e)})}y(L),H(()=>{he(C,`transform: ${e(s).children?.length?"scale(1.4)":"scale(2.3) translateY(-0.05em)"};`),Y(N,e(s).children?.length?n()?"⯆":"⯈":"⏺"),he(I,`--currentColor: var(${e(v)??""}); opacity: ${e(m)??""};`),Y(B,`${e(s).name.value??""} `)},void 0,void 0,[g[4],g[3]]),f("click",E,l),f("click",I,u),R(h,L)};K(T,h=>{e(s)&&h(b)})}),R(r,x),P()}X(["click"]);const Vn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='-64%200%20256%20128'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23e1e1e0;%20}%20.cls-1,%20.cls-2%20{%20stroke-width:%200px;%20}%20.cls-2%20{%20fill:%20%23ba64f2;%20}%20%3c/style%3e%3c/defs%3e%3crect%20class='cls-2'%20x='55.71'%20y='27.79'%20width='70.37'%20height='22.32'%20rx='11.16'%20ry='11.16'/%3e%3crect%20class='cls-2'%20x='83.27'%20y='77.69'%20width='42.81'%20height='22.32'%20rx='11.16'%20ry='11.16'/%3e%3cg%3e%3crect%20class='cls-1'%20x='14.82'%20y='27.79'%20width='12.41'%20height='72.22'%20rx='6.21'%20ry='6.21'/%3e%3crect%20class='cls-1'%20x='-.74'%20y='34.23'%20width='30.63'%20height='12.41'%20rx='6.21'%20ry='6.21'%20transform='translate(-24.32%2022.15)%20rotate(-45)'/%3e%3crect%20class='cls-1'%20x='21.26'%20y='25.12'%20width='12.41'%20height='30.63'%20rx='6.21'%20ry='6.21'%20transform='translate(-20.55%2031.26)%20rotate(-45)'/%3e%3c/g%3e%3c/svg%3e",Wn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='-64%200%20256%20128'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23e1e1e0;%20}%20.cls-1,%20.cls-2%20{%20stroke-width:%200px;%20}%20.cls-2%20{%20fill:%20%23ba64f2;%20}%20%3c/style%3e%3c/defs%3e%3crect%20class='cls-2'%20x='55.72'%20y='27.79'%20width='70.38'%20height='22.32'%20rx='11.16'%20ry='11.16'/%3e%3cpath%20class='cls-1'%20d='m87.13,77.71h27.82c6.16,0,11.16,5,11.16,11.16h0c0,6.16-5,11.16-11.16,11.16h-27.82c-2.12,0-3.84-1.72-3.84-3.84v-14.64c0-2.12,1.72-3.84,3.84-3.84Z'/%3e%3cg%3e%3crect%20class='cls-1'%20x='14.83'%20y='60.02'%20width='12.42'%20height='40.01'%20rx='6.21'%20ry='6.21'/%3e%3crect%20class='cls-1'%20x='-.72'%20y='66.46'%20width='30.64'%20height='12.42'%20rx='6.21'%20ry='6.21'%20transform='translate(-47.11%2031.61)%20rotate(-45)'/%3e%3crect%20class='cls-1'%20x='21.28'%20y='57.35'%20width='12.42'%20height='30.64'%20rx='6.21'%20ry='6.21'%20transform='translate(-43.34%2040.72)%20rotate(-45)'/%3e%3c/g%3e%3c/svg%3e";var Jn=z('<span id="info" class="svelte-13bzr7"> </span>'),Kn=z('<div id="outer" class="svelte-13bzr7"><div id="topbar" class="svelte-13bzr7"><div id="title" class="svelte-13bzr7">Root: <span id="name" class="svelte-13bzr7"> </span> <!></div> <button class="svelte-13bzr7"><img title="Object Root" class="svelte-13bzr7"/></button> <button class="svelte-13bzr7"><img title="Root Up" class="svelte-13bzr7"/></button></div> <div id="content" class="svelte-13bzr7"><!></div></div>');function $n(r,t){A(t,!0);let n=ve(t,"slotId",15,"Root"),a=w(()=>be.get(n())),i=w(()=>e(a)?e(a).name.value:"");ze(()=>{O.linkOpen&&W(n())}),ze(()=>{e(a)===null&&(O.selectedSlot!==n()&&O.sendNotification("Couldn't get inspector root slot. Resetting to world Root..."),n("Root"))});function l(){O.sendNotification("This doesn't do anything (yet)")}function u(){e(a)&&e(a).parent.targetId!==null&&n(e(a).parent.targetId)}function c(){W(n())}var s=Kn(),o=p(s),v=p(o),m=d(p(v)),g=p(m,!0);y(m);var x=d(m,2);{var k=N=>{var I=Jn(),B=p(I);y(I),H(()=>Y(B,`(${n()??""})`)),R(N,I)};K(x,N=>{O.resoniteLinkMode&&N(k)})}y(v);var T=d(v,2),b=p(T);y(T);var h=d(T,2),L=p(h);y(h),y(o);var M=d(o,2),E=p(M);{var C=N=>{At(N,{get slotId(){return n()},unfolded:!0})};K(E,N=>{O.linkOpen&&e(a)&&N(C)})}y(M),y(s),H(()=>{Y(g,e(i)),$(b,"src",Vn),$(L,"src",Wn)}),f("click",m,c),f("click",T,l),f("click",h,u),R(r,s),P()}X(["click"]);var ea=z('<input type="number" step="any"/>');function ta(r,t){A(t,!0);const n=w(()=>({...t.data}));function a(){t.changeField(e(n))}var i=ea();F(i),f("change",i,a),S(i,()=>e(n).value,l=>e(n).value=l),R(r,i),P()}X(["change"]);var na=z('x <input type="number" step="any"/> y <input type="number" step="any"/> z <input type="number" step="any"/>',1);function aa(r,t){A(t,!0);const n=w(()=>({...t.data}));function a(){t.changeField(e(n))}J();var i=na(),l=d(Q(i));F(l);var u=d(l,2);F(u);var c=d(u,2);F(c),f("change",l,a),S(l,()=>e(n).value.x,s=>e(n).value.x=s),f("change",u,a),S(u,()=>e(n).value.y,s=>e(n).value.y=s),f("change",c,a),S(c,()=>e(n).value.z,s=>e(n).value.z=s),R(r,i),P()}X(["change"]);var ra=z('x <input type="number" step="any"/> y <input type="number" step="any"/>',1);function la(r,t){A(t,!0);const n=w(()=>({...t.data}));function a(){t.changeField(e(n))}J();var i=ra(),l=d(Q(i));F(l);var u=d(l,2);F(u),f("change",l,a),S(l,()=>e(n).value.x,c=>e(n).value.x=c),f("change",u,a),S(u,()=>e(n).value.y,c=>e(n).value.y=c),R(r,i),P()}X(["change"]);function ia(r,t){A(t,!0);const n=w(()=>({...t.data}));function a(){t.changeField(e(n))}ee(r,{onclick:a,get checked(){return e(n).value},set checked(i){e(n).value=i}}),P()}var sa=z("<option> </option>"),ua=z("<select></select>"),oa=z('<input class="unknownEnum" type="text"/> <span class="type svelte-m9kvh6"> </span>',1);function ca(r,t){A(t,!0);const n=w(()=>({...t.data})),a=w(()=>Le.get(t.data.enumType));function i(){t.changeField(e(n))}var l=Re(),u=Q(l);{var c=o=>{var v=ua();pe(v,21,()=>e(a),In,(m,g)=>{var x=sa(),k=p(x,!0);y(x);var T={};H(()=>{Y(k,e(g)),T!==(T=e(g))&&(x.value=(x.__value=e(g))??"")}),R(m,x)}),y(v),f("change",v,i),Lt(v,()=>e(n).value,m=>e(n).value=m),R(o,v)},s=o=>{var v=oa(),m=Q(v);F(m);var g=d(m,2),x=p(g);y(g),H(()=>Y(x,`(${t.data.enumType??""})`)),f("change",m,i),S(m,()=>e(n).value,k=>e(n).value=k),R(o,v)};K(u,o=>{e(a)?o(c):o(s,!1)})}R(r,l),P()}X(["change"]);var da=z('x <input type="number" step="any"/> y <input type="number" step="any"/> z <input type="number" step="any"/> w <input type="number" step="any"/>',1);function va(r,t){A(t,!0);const n=w(()=>({...t.data}));function a(){t.changeField(e(n))}J();var i=da(),l=d(Q(i));F(l);var u=d(l,2);F(u);var c=d(u,2);F(c);var s=d(c,2);F(s),f("change",l,a),S(l,()=>e(n).value.x,o=>e(n).value.x=o),f("change",u,a),S(u,()=>e(n).value.y,o=>e(n).value.y=o),f("change",c,a),S(c,()=>e(n).value.z,o=>e(n).value.z=o),f("change",s,a),S(s,()=>e(n).value.w,o=>e(n).value.w=o),R(r,i),P()}X(["change"]);var ma=z('<input type="text"/> <button class="svelte-w1masj"><div id="null" class="svelte-w1masj">∅</div></button>',1);function fa(r,t){A(t,!0);const n=w(()=>({...t.data}));let a=w(()=>e(n).value||""),i=w(()=>e(n).value===null);function l(){e(n).value=e(i)?null:e(a),t.changeField(e(n))}function u(){q(i,!0),l()}function c(){q(i,!1)}var s=ma(),o=Q(s);F(o);var v=d(o,2);H(()=>$(o,"placeholder",e(i)?"null":"")),et("focus",o,c),f("change",o,l),S(o,()=>e(a),m=>q(a,m)),f("click",v,u),R(r,s),P()}X(["change","click"]);var ga=z('<input type="text"/>');function ha(r,t){A(t,!0);const n=w(()=>({...t.data}));function a(){t.changeField(e(n))}var i=ga();F(i),f("change",i,a),S(i,()=>e(n).value,l=>e(n).value=l),R(r,i),P()}X(["change"]);var ba=z('<span id="null" class="svelte-1bib7m"><!>?</span> <span id="content" class="svelte-1bib7m"><!></span>',1);function ya(r,t){A(t,!0);const n=w(()=>({...t.data})),a=w(()=>({$type:yt(t.data.$type),id:t.data.id,value:t.data.value===null?u():t.data.value,enumType:t.data.$type==="enum?"?t.data.enumType:void 0}));let i=w(()=>t.data.value!==null);function l(x){e(n).value=e(i)?x.value:null,t.changeField(e(n))}function u(){if(e(n).$type==="enum?")return(Le.get(e(n).enumType)||[""])[0];switch(Ct(yt(e(n).$type))){case"number":return 0;case"boolean":return!1;case"string":return"";case"boolean2":return{x:!1,y:!1};case"boolean3":return{x:!1,y:!1,z:!1};case"boolean4":return{x:!1,y:!1,z:!1,w:!1};case"number2":return{x:0,y:0};case"number3":return{x:0,y:0,z:0};case"number4":return{x:0,y:0,z:0,w:0};case"number2x2":return{m00:0,m01:0,m10:0,m11:0};case"number3x3":return{m00:0,m01:0,m02:0,m10:0,m11:0,m12:0,m20:0,m21:0,m22:0};case"number4x4":return{m00:0,m01:0,m02:0,m03:0,m10:0,m11:0,m12:0,m13:0,m20:0,m21:0,m22:0,m23:0,m30:0,m31:0,m32:0,m33:0};case"Rect":return{position:{x:0,y:0},size:{x:0,y:0}};case"BoundingBox":return{min:{x:0,y:0,z:0},max:{x:0,y:0,z:0}};default:return{}}}function c(){e(n).value=e(i)?u():null,e(a).value=u(),t.changeField(e(n))}var s=ba(),o=Q(s),v=p(o);ee(v,{onclick:c,get checked(){return e(i)},set checked(x){q(i,x)}}),J(),y(o);var m=d(o,2),g=p(m);Bt(g,{get data(){return e(a)},changeField:l}),y(m),H(()=>he(m,e(i)?"":"filter: opacity(50%); pointer-events: none;")),R(r,s),P()}function Je(r){return r.replaceAll("[FrooxEngine]FrooxEngine.UIX.","").replaceAll("[FrooxEngine]FrooxEngine.","").replaceAll("[Elements.Core]Elements.Core.","").replaceAll("[Elements.Assets]Elements.Assets.","")}function je(r,t){return Math.round(r*t)/t}var pa=z('x <input type="number" step="any"/> y <input type="number" step="any"/> z <input type="number" step="any"/>',1);function _a(r,t){A(t,!0);const n=w(()=>({...t.data})),a=w(()=>t.data.value),i=w(()=>2*(e(a).x*e(a).z+e(a).w*e(a).y)),l=w(()=>e(a).w*e(a).w-e(a).x*e(a).x-e(a).y*e(a).y+e(a).z*e(a).z),u=w(()=>-2*(e(a).y*e(a).z-e(a).w*e(a).x)),c=w(()=>2*(e(a).x*e(a).y+e(a).w*e(a).z)),s=w(()=>e(a).w*e(a).w-e(a).x*e(a).x+e(a).y*e(a).y-e(a).z*e(a).z);let o=w(()=>je(Math.asin(e(u))*180/Math.PI,1e3)),v=w(()=>je(Math.atan2(e(i),e(l))*180/Math.PI,1e3)),m=w(()=>je(Math.atan2(e(c),e(s))*180/Math.PI,1e3));function g(){const h=Math.cos(e(o)*Math.PI/360),L=Math.cos(e(v)*Math.PI/360),M=Math.cos(e(m)*Math.PI/360),E=Math.sin(e(o)*Math.PI/360),C=Math.sin(e(v)*Math.PI/360),N=Math.sin(e(m)*Math.PI/360);e(n).value={x:E*L*M+h*C*N,y:h*C*M-E*L*N,z:h*L*N-E*C*M,w:h*L*M+E*C*N},t.changeField(e(n))}J();var x=pa(),k=d(Q(x));F(k);var T=d(k,2);F(T);var b=d(T,2);F(b),f("change",k,g),S(k,()=>e(o),h=>q(o,h)),f("change",T,g),S(T,()=>e(v),h=>q(v,h)),f("change",b,g),S(b,()=>e(m),h=>q(m,h)),R(r,x),P()}X(["change"]);var xa=z('R <input type="number" step="any"/> G <input type="number" step="any"/> B <input type="number" step="any"/> A <input type="number" step="any"/> <span id="outer" class="svelte-1h03lkm"><span></span> <span id="transparentbg" class="svelte-1h03lkm"><span id="transparent" class="svelte-1h03lkm"></span></span></span>',1);function Pt(r,t){A(t,!0);const n=w(()=>({...t.data}));function a(k){return e(n).$type==="color32"?k*100/255:k*100}function i(){t.changeField(e(n))}J();var l=xa(),u=d(Q(l));F(u);var c=d(u,2);F(c);var s=d(c,2);F(s);var o=d(s,2);F(o);var v=d(o,2),m=p(v),g=d(m,2),x=p(g);y(g),y(v),H((k,T,b,h,L,M,E)=>{he(m,`background-color: rgb(${k??""}% ${T??""}% ${b??""}%)`),he(x,`background-color: rgb(${h??""}% ${L??""}% ${M??""}% / ${E??""}%)`)},[()=>a(e(n).value.r),()=>a(e(n).value.g),()=>a(e(n).value.b),()=>a(e(n).value.r),()=>a(e(n).value.g),()=>a(e(n).value.b),()=>a(e(n).value.a)]),f("change",u,i),S(u,()=>e(n).value.r,k=>e(n).value.r=k),f("change",c,i),S(c,()=>e(n).value.g,k=>e(n).value.g=k),f("change",s,i),S(s,()=>e(n).value.b,k=>e(n).value.b=k),f("change",o,i),S(o,()=>e(n).value.a,k=>e(n).value.a=k),R(r,l),P()}X(["change"]);var ka=z('<div id="outer" class="svelte-19z9a8e"><div id="color" class="svelte-19z9a8e"><!></div> <div id="profile" class="svelte-19z9a8e">Profile <span id="enum" class="svelte-19z9a8e"><select><option>Linear</option><option>sRGB</option><option>sRGBAlpha</option></select></span></div></div>');function wa(r,t){A(t,!0);let n=w(()=>({...t.data}));function a(x){const k=x.value;e(n).value.r=k.r,e(n).value.g=k.g,e(n).value.b=k.b,e(n).value.a=k.a,t.changeField(e(n))}var i=ka(),l=p(i),u=p(l);Pt(u,{get data(){return t.data},changeField:a}),y(l);var c=d(l,2),s=d(p(c)),o=p(s),v=p(o);v.value=v.__value="Linear";var m=d(v);m.value=m.__value="sRGB";var g=d(m);g.value=g.__value="sRGBAlpha",y(o),y(s),y(c),y(i),f("change",o,()=>t.changeField(e(n))),Lt(o,()=>e(n).value.profile,x=>e(n).value.profile=x),R(r,i),P()}X(["change"]);var Fa=z("x <!> y <!>",1);function Sa(r,t){A(t,!0);const n=w(()=>({...t.data}));function a(){t.changeField(e(n))}J();var i=Fa(),l=d(Q(i));ee(l,{onclick:a,get checked(){return e(n).value.x},set checked(c){e(n).value.x=c}});var u=d(l,2);ee(u,{onclick:a,get checked(){return e(n).value.y},set checked(c){e(n).value.y=c}}),R(r,i),P()}var Ia=z("x <!> y <!> z <!>",1);function Ra(r,t){A(t,!0);const n=w(()=>({...t.data}));function a(){t.changeField(e(n))}J();var i=Ia(),l=d(Q(i));ee(l,{onclick:a,get checked(){return e(n).value.x},set checked(s){e(n).value.x=s}});var u=d(l,2);ee(u,{onclick:a,get checked(){return e(n).value.y},set checked(s){e(n).value.y=s}});var c=d(u,2);ee(c,{onclick:a,get checked(){return e(n).value.z},set checked(s){e(n).value.z=s}}),R(r,i),P()}var Ta=z("x <!> y <!> z <!> w <!>",1);function Da(r,t){A(t,!0);const n=w(()=>({...t.data}));function a(){t.changeField(e(n))}J();var i=Ta(),l=d(Q(i));ee(l,{onclick:a,get checked(){return e(n).value.x},set checked(o){e(n).value.x=o}});var u=d(l,2);ee(u,{onclick:a,get checked(){return e(n).value.y},set checked(o){e(n).value.y=o}});var c=d(u,2);ee(c,{onclick:a,get checked(){return e(n).value.z},set checked(o){e(n).value.z=o}});var s=d(c,2);ee(s,{onclick:a,get checked(){return e(n).value.w},set checked(o){e(n).value.w=o}}),R(r,i),P()}var Ea=z('<div id="outer" class="svelte-qv8xoi"><div class="svelte-qv8xoi"><input type="number" step="any"/> <input type="number" step="any"/></div> <div class="svelte-qv8xoi"><input type="number" step="any"/> <input type="number" step="any"/></div></div>');function za(r,t){A(t,!0);const n=w(()=>({...t.data}));function a(){t.changeField(e(n))}var i=Ea(),l=p(i),u=p(l);F(u);var c=d(u,2);F(c),y(l);var s=d(l,2),o=p(s);F(o);var v=d(o,2);F(v),y(s),y(i),f("change",u,a),S(u,()=>e(n).value.m00,m=>e(n).value.m00=m),f("change",c,a),S(c,()=>e(n).value.m01,m=>e(n).value.m01=m),f("change",o,a),S(o,()=>e(n).value.m10,m=>e(n).value.m10=m),f("change",v,a),S(v,()=>e(n).value.m11,m=>e(n).value.m11=m),R(r,i),P()}X(["change"]);var Ma=z('<div id="outer" class="svelte-126smma"><div class="svelte-126smma"><input type="number" step="any"/> <input type="number" step="any"/> <input type="number" step="any"/></div> <div class="svelte-126smma"><input type="number" step="any"/> <input type="number" step="any"/> <input type="number" step="any"/></div> <div class="svelte-126smma"><input type="number" step="any"/> <input type="number" step="any"/> <input type="number" step="any"/></div></div>');function La(r,t){A(t,!0);const n=w(()=>({...t.data}));function a(){t.changeField(e(n))}var i=Ma(),l=p(i),u=p(l);F(u);var c=d(u,2);F(c);var s=d(c,2);F(s),y(l);var o=d(l,2),v=p(o);F(v);var m=d(v,2);F(m);var g=d(m,2);F(g),y(o);var x=d(o,2),k=p(x);F(k);var T=d(k,2);F(T);var b=d(T,2);F(b),y(x),y(i),f("change",u,a),S(u,()=>e(n).value.m00,h=>e(n).value.m00=h),f("change",c,a),S(c,()=>e(n).value.m01,h=>e(n).value.m01=h),f("change",s,a),S(s,()=>e(n).value.m02,h=>e(n).value.m02=h),f("change",v,a),S(v,()=>e(n).value.m10,h=>e(n).value.m10=h),f("change",m,a),S(m,()=>e(n).value.m11,h=>e(n).value.m11=h),f("change",g,a),S(g,()=>e(n).value.m12,h=>e(n).value.m12=h),f("change",k,a),S(k,()=>e(n).value.m20,h=>e(n).value.m20=h),f("change",T,a),S(T,()=>e(n).value.m21,h=>e(n).value.m21=h),f("change",b,a),S(b,()=>e(n).value.m22,h=>e(n).value.m22=h),R(r,i),P()}X(["change"]);var Ca=z('<div id="outer" class="svelte-1dicbk2"><div class="svelte-1dicbk2"><input type="number" step="any"/> <input type="number" step="any"/> <input type="number" step="any"/> <input type="number" step="any"/></div> <div class="svelte-1dicbk2"><input type="number" step="any"/> <input type="number" step="any"/> <input type="number" step="any"/> <input type="number" step="any"/></div> <div class="svelte-1dicbk2"><input type="number" step="any"/> <input type="number" step="any"/> <input type="number" step="any"/> <input type="number" step="any"/></div> <div class="svelte-1dicbk2"><input type="number" step="any"/> <input type="number" step="any"/> <input type="number" step="any"/> <input type="number" step="any"/></div></div>');function Na(r,t){A(t,!0);const n=w(()=>({...t.data}));function a(){t.changeField(e(n))}var i=Ca(),l=p(i),u=p(l);F(u);var c=d(u,2);F(c);var s=d(c,2);F(s);var o=d(s,2);F(o),y(l);var v=d(l,2),m=p(v);F(m);var g=d(m,2);F(g);var x=d(g,2);F(x);var k=d(x,2);F(k),y(v);var T=d(v,2),b=p(T);F(b);var h=d(b,2);F(h);var L=d(h,2);F(L);var M=d(L,2);F(M),y(T);var E=d(T,2),C=p(E);F(C);var N=d(C,2);F(N);var I=d(N,2);F(I);var B=d(I,2);F(B),y(E),y(i),f("change",u,a),S(u,()=>e(n).value.m00,D=>e(n).value.m00=D),f("change",c,a),S(c,()=>e(n).value.m01,D=>e(n).value.m01=D),f("change",s,a),S(s,()=>e(n).value.m02,D=>e(n).value.m02=D),f("change",o,a),S(o,()=>e(n).value.m03,D=>e(n).value.m03=D),f("change",m,a),S(m,()=>e(n).value.m10,D=>e(n).value.m10=D),f("change",g,a),S(g,()=>e(n).value.m11,D=>e(n).value.m11=D),f("change",x,a),S(x,()=>e(n).value.m12,D=>e(n).value.m12=D),f("change",k,a),S(k,()=>e(n).value.m13,D=>e(n).value.m13=D),f("change",b,a),S(b,()=>e(n).value.m20,D=>e(n).value.m20=D),f("change",h,a),S(h,()=>e(n).value.m21,D=>e(n).value.m21=D),f("change",L,a),S(L,()=>e(n).value.m22,D=>e(n).value.m22=D),f("change",M,a),S(M,()=>e(n).value.m23,D=>e(n).value.m23=D),f("change",C,a),S(C,()=>e(n).value.m30,D=>e(n).value.m30=D),f("change",N,a),S(N,()=>e(n).value.m31,D=>e(n).value.m31=D),f("change",I,a),S(I,()=>e(n).value.m32,D=>e(n).value.m32=D),f("change",B,a),S(B,()=>e(n).value.m33,D=>e(n).value.m33=D),R(r,i),P()}X(["change"]);var Oa=z('x <input type="number" step="any"/> y <input type="number" step="any"/> x <input type="number" step="any"/> y <input type="number" step="any"/>',1);function Aa(r,t){A(t,!0);const n=w(()=>({...t.data}));function a(){t.changeField(e(n))}J();var i=Oa(),l=d(Q(i));F(l);var u=d(l,2);F(u);var c=d(u,2);F(c);var s=d(c,2);F(s),f("change",l,a),S(l,()=>e(n).value.position.x,o=>e(n).value.position.x=o),f("change",u,a),S(u,()=>e(n).value.position.y,o=>e(n).value.position.y=o),f("change",c,a),S(c,()=>e(n).value.size.x,o=>e(n).value.size.x=o),f("change",s,a),S(s,()=>e(n).value.size.y,o=>e(n).value.size.y=o),R(r,i),P()}X(["change"]);var Pa=z('x <input type="number" step="any"/> y <input type="number" step="any"/> z <input type="number" step="any"/> x <input type="number" step="any"/> y <input type="number" step="any"/> z <input type="number" step="any"/>',1);function Ba(r,t){A(t,!0);const n=w(()=>({...t.data}));function a(){t.changeField(e(n))}J();var i=Pa(),l=d(Q(i));F(l);var u=d(l,2);F(u);var c=d(u,2);F(c);var s=d(c,2);F(s);var o=d(s,2);F(o);var v=d(o,2);F(v),f("change",l,a),S(l,()=>e(n).value.min.x,m=>e(n).value.min.x=m),f("change",u,a),S(u,()=>e(n).value.min.y,m=>e(n).value.min.y=m),f("change",c,a),S(c,()=>e(n).value.min.z,m=>e(n).value.min.z=m),f("change",s,a),S(s,()=>e(n).value.max.x,m=>e(n).value.max.x=m),f("change",o,a),S(o,()=>e(n).value.max.y,m=>e(n).value.max.y=m),f("change",v,a),S(v,()=>e(n).value.max.z,m=>e(n).value.max.z=m),R(r,i),P()}X(["change"]);var qa=z('<span class="type svelte-1ykag21"> </span>');function Bt(r,t){A(t,!0);const n=w(()=>Ct(t.data.$type));var a=Re(),i=Q(a);{var l=_=>{ya(_,{get data(){return t.data},get changeField(){return t.changeField}})},u=w(()=>Nt(t.data.$type)),c=_=>{ca(_,{get data(){return t.data},get changeField(){return t.changeField}})},s=_=>{ia(_,{get data(){return t.data},get changeField(){return t.changeField}})},o=_=>{ta(_,{get data(){return t.data},get changeField(){return t.changeField}})},v=_=>{la(_,{get data(){return t.data},get changeField(){return t.changeField}})},m=_=>{Sa(_,{get data(){return t.data},get changeField(){return t.changeField}})},g=_=>{aa(_,{get data(){return t.data},get changeField(){return t.changeField}})},x=_=>{Ra(_,{get data(){return t.data},get changeField(){return t.changeField}})},k=_=>{va(_,{get data(){return t.data},get changeField(){return t.changeField}})},T=_=>{Da(_,{get data(){return t.data},get changeField(){return t.changeField}})},b=_=>{_a(_,{get data(){return t.data},get changeField(){return t.changeField}})},h=_=>{za(_,{get data(){return t.data},get changeField(){return t.changeField}})},L=_=>{La(_,{get data(){return t.data},get changeField(){return t.changeField}})},M=_=>{Na(_,{get data(){return t.data},get changeField(){return t.changeField}})},E=_=>{Pt(_,{get data(){return t.data},get changeField(){return t.changeField}})},C=_=>{wa(_,{get data(){return t.data},get changeField(){return t.changeField}})},N=_=>{fa(_,{get data(){return t.data},get changeField(){return t.changeField}})},I=_=>{ha(_,{get data(){return t.data},get changeField(){return t.changeField}})},B=_=>{Aa(_,{get data(){return t.data},get changeField(){return t.changeField}})},D=_=>{Ba(_,{get data(){return t.data},get changeField(){return t.changeField}})},U=_=>{var te=qa(),_e=p(te);y(te),H(()=>Y(_e,`${e(n)??""} : ${t.data.$type??""}`)),R(_,te)};K(i,_=>{e(u)?_(l):t.data.$type==="enum"?_(c,1):e(n)==="boolean"?_(s,2):e(n)==="number"?_(o,3):e(n)==="number2"?_(v,4):e(n)==="boolean2"?_(m,5):e(n)==="number3"?_(g,6):e(n)==="boolean3"?_(x,7):e(n)==="number4"?_(k,8):e(n)==="boolean4"?_(T,9):e(n)==="numberQ"?_(b,10):e(n)==="number2x2"?_(h,11):e(n)==="number3x3"?_(L,12):e(n)==="number4x4"?_(M,13):e(n)==="color"?_(E,14):e(n)==="colorX"?_(C,15):e(n)==="string | null"?_(N,16):e(n)==="string"?_(I,17):e(n)==="Rect"?_(B,18):e(n)==="BoundingBox"?_(D,19):_(U,!1)})}R(r,a),P()}var Ua=z('<input type="text" class="svelte-1r99hcu"/> <button class="svelte-1r99hcu"><div id="null" class="svelte-1r99hcu">∅</div></button> <span class="type svelte-1r99hcu"> </span>',1);function Qa(r,t){A(t,!0);const n=w(()=>({...t.data}));let a=w(()=>e(n).targetId||""),i=w(()=>e(n).targetId===null);function l(){e(n).targetId=e(i)?null:e(a),t.changeField(e(n))}function u(){q(i,!0),l()}function c(){q(i,!1)}var s=Ua(),o=Q(s);F(o);var v=d(o,2),m=d(v,2),g=p(m);y(m),H(x=>{$(o,"placeholder",e(i)?"null":""),Y(g,`(${x??""})`)},[()=>Je(e(n).targetType)]),et("focus",o,c),f("change",o,l),S(o,()=>e(a),x=>q(a,x)),f("click",v,u),R(r,s),P()}X(["change","click"]);var Xa=z('<div id="outer" class="svelte-1xgy57y"></div>');function ja(r,t){A(t,!0);const n=w(()=>({...t.data}));function a(l,u){e(n).elements[l]=u,t.changeField(e(n))}var i=Xa();pe(i,21,()=>t.data.elements.entries(),([l,u])=>u.id,(l,u)=>{var c=w(()=>$e(e(u),2));let s=()=>e(c)[0],o=()=>e(c)[1];ne(l,{get name(){return s()},get data(){return o()},changeField:a,get update(){return t.update},parentIsList:!0})}),y(i),R(r,i),P()}var Ga=z('<div id="outer" class="svelte-1apr83h"></div>');function Ha(r,t){A(t,!0);const n=w(()=>({...t.data}));function a(l,u){e(n).members[l]=u,t.changeField(e(n))}var i=Ga();pe(i,21,()=>Object.entries(t.data.members),([l,u])=>u.id,(l,u)=>{var c=w(()=>$e(e(u),2));let s=()=>e(c)[0],o=()=>e(c)[1];ne(l,{get name(){return s()},get data(){return o()},changeField:a,get update(){return t.update}})}),y(i),R(r,i),P()}var Za=z('<input type="text"/> <button class="svelte-i3h6g9"><div id="null" class="svelte-i3h6g9">∅</div></button>',1);function Ya(r,t){A(t,!0);const n=w(()=>({...t.data}));let a=w(()=>e(n).type||""),i=w(()=>e(n).type===null);function l(){e(n).type=e(i)?null:e(a),t.changeField(e(n))}function u(){q(i,!0),l()}function c(){q(i,!1)}var s=Za(),o=Q(s);F(o);var v=d(o,2);H(()=>$(o,"placeholder",e(i)?"null":"")),et("focus",o,c),f("change",o,l),S(o,()=>e(a),m=>q(a,m)),f("click",v,u),R(r,s),P()}X(["change","click"]);var Va=z('<span id="info" class="svelte-12ew3w3"> </span>'),Wa=z('<span style="grid-column: 1 / 3; text-align: center;" id="title" class="svelte-12ew3w3"> <!> (list):</span> <span style="grid-column: 1 / 3;"><!></span>',1),Ja=z('<span id="info" class="svelte-12ew3w3"> </span>'),Ka=z('<span class="type svelte-12ew3w3">&lt;empty element&gt;</span>'),$a=z('<span id="title" class="svelte-12ew3w3"> <!>:</span> <span class="svelte-12ew3w3"><!></span>',1);function ne(r,t){A(t,!0);const n=ve(t,"displayName",3,""),a=ve(t,"parentIsList",3,!1);function i(v){t.changeField(t.name,v)}function l(){O.resoniteLinkMode&&console.log(`${t.name}(${t.data.id})`,t.data),t.update()}var u=Re(),c=Q(u);{var s=v=>{var m=Wa(),g=Q(m),x=p(g),k=d(x);{var T=L=>{var M=Va(),E=p(M);y(M),H(()=>Y(E,`(${t.data.id??""})`)),R(L,M)};K(k,L=>{O.resoniteLinkMode&&L(T)})}J(),y(g);var b=d(g,2),h=p(b);ja(h,{get data(){return t.data},changeField:i,get update(){return t.update}}),y(b),H(()=>Y(x,`${(n()||t.name)??""} `)),f("click",g,l),R(v,m)},o=v=>{var m=$a(),g=Q(m),x=p(g,!0),k=d(x);{var T=I=>{var B=Ja(),D=p(B);y(B),H(()=>Y(D,`(${t.data.id??""})`)),R(I,B)};K(k,I=>{O.resoniteLinkMode&&I(T)})}J(),y(g);var b=d(g,2),h=p(b);{var L=I=>{var B=Ka();R(I,B)},M=I=>{Qa(I,{get data(){return t.data},changeField:i})},E=I=>{Ha(I,{get data(){return t.data},changeField:i,get update(){return t.update}})},C=I=>{Ya(I,{get data(){return t.data},changeField:i})},N=I=>{Bt(I,{get data(){return t.data},changeField:i})};K(h,I=>{t.data.$type==="empty"?I(L):t.data.$type==="reference"?I(M,1):t.data.$type==="syncObject"?I(E,2):t.data.$type==="type"?I(C,3):I(N,!1)})}y(b),H(()=>{Y(x,n()||t.name),$(b,"id",t.data.$type==="syncObject"&&!a()?"fieldWide":"field")}),f("click",g,l),R(v,m)};K(c,v=>{t.data.$type==="list"?v(s):v(o,!1)})}R(r,u),P()}X(["click"]);var er=z('<span id="info" class="svelte-37swsf"> </span>'),tr=z('<div id="title" class="svelte-37swsf"> <!></div> <!>',1);function nr(r,t){A(t,!0);async function n(){await Ee(t.componentId),O.resoniteLinkMode&&e(l)&&console.log(`${Je(e(l).componentType)}(${t.componentId})`,e(l))}function a(v,m){G.updateComponent({id:t.componentId,members:{[v]:m}}).finally(async()=>{Ee(t.componentId)})}async function i(){await Ee(t.componentId)}var l,u,c=zt([()=>Ee(t.componentId),()=>l=w(()=>Ve.get(t.componentId)),()=>u=w(()=>e(l)?Me.get(e(l).componentType):void 0),()=>{e(l)&&Ot(e(l).componentType)}]),s=Re(),o=Q(s);fe(o,[c[3]],void 0,v=>{var m=g=>{var x=tr(),k=Q(x),T=p(k),b=d(T);{var h=M=>{var E=er(),C=p(E);y(E),H(()=>Y(C,`(${e(l).id??""})`),void 0,void 0,[c[3]]),R(M,E)};K(b,M=>{O.resoniteLinkMode&&M(h)})}y(k);var L=d(k,2);fe(L,[c[3]],void 0,M=>{pe(M,17,()=>Object.entries(e(l).members||{}),([E,C])=>C.id,(E,C)=>{var N=w(()=>$e(e(C),2));let I=()=>e(N)[0],B=()=>e(N)[1];fe(E,[c[3],c[3]],void 0,D=>{ne(D,{get name(){return I()},get data(){return B()},get changeField(){return a},get update(){return i}})}),J()})}),H(M=>Y(T,`${M??""} `),[()=>e(u)?e(u).type.name:Je(e(l).componentType)],void 0,[c[2],c[3]]),f("click",k,n),R(g,x)};K(v,g=>{e(l)&&g(m)})}),R(r,s),P()}X(["click"]);const ar="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23ff7676;%20stroke-width:%200px;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='m108.84,43.24l-7.02,74.5c-.32,3.55-3.31,6.28-6.87,6.28h-61.91c-3.56,0-6.55-2.73-6.87-6.28l-7.02-74.5c-.37-4.04,2.81-7.53,6.88-7.53h75.93c4.06,0,7.25,3.49,6.88,7.53Z'/%3e%3cpath%20class='cls-1'%20d='m115.77,22.49c.04,1.76-.67,3.37-1.82,4.52-1.12,1.12-2.67,1.82-4.39,1.82H18.58c-3.41,0-6.29-2.69-6.35-6.09-.03-1.76.67-3.36,1.82-4.51,1.12-1.12,2.67-1.82,4.39-1.82h20.05c2.12,0,3.84-1.72,3.84-3.84v-1.68c0-3.81,3.09-6.9,6.9-6.9h27.94c3.81,0,6.9,3.09,6.9,6.9v1.68c0,2.12,1.72,3.84,3.84,3.84h21.51c3.4,0,6.28,2.68,6.35,6.08Z'/%3e%3c/svg%3e",rr="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23ff7676;%20stroke-width:%200px;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='m99.9,39.17l-2.27,6.56-5.31,15.32c-.39,1.13-1.54,1.78-2.71,1.56l-15.86-3.05h0s-6.81-1.31-6.81-1.31l-.07-.02c-2.16-.42-2.65-3.3-.74-4.4l3.23-1.86-5.36-9.3-4.74,8.21c-.66,1.14-2.11,1.53-3.26.87l-9.88-5.7-9.87-5.7c-1.14-.66-1.53-2.12-.87-3.26l2.74-4.76,3.99-6.9,5.28-9.16c.43-.74,1.21-1.19,2.07-1.19h29.11c.85,0,1.64.46,2.07,1.19l5.28,9.16,7.37,12.76,3.18-1.84c1.91-1.11,4.17.76,3.44,2.84Z'/%3e%3cpath%20class='cls-1'%20d='m51.97,90.94v13.79c0,3.81-3.08,6.91-6.9,6.91h-16.92c-2.46,0-4.74-1.32-5.97-3.45l-12.82-22.22c-.69-1.18-.69-2.65,0-3.84l4.86-8.42,7.36-12.76-3.18-1.84c-1.91-1.11-1.43-3.99.74-4.4l6.81-1.31,15.9-3.07c1.16-.22,2.31.45,2.7,1.56l5.33,15.26h0l2.28,6.55.02.07c.72,2.09-1.53,3.95-3.44,2.84l-3.23-1.86-5.37,9.3h4.97c3.81,0,6.9,3.09,6.9,6.9Z'/%3e%3cpath%20class='cls-1'%20d='m118.64,86.07l-13.72,23.75c-.68,1.19-1.95,1.92-3.32,1.92h-24.46v3.68c0,2.21-2.74,3.23-4.18,1.56l-4.54-5.24-10.6-12.23c-.77-.9-.78-2.22,0-3.12l10.55-12.23h0l4.53-5.25.05-.05c1.45-1.67,4.18-.64,4.18,1.56v3.73h10.75l-4.02-6.95c-1.06-1.83-.43-4.18,1.41-5.24l17.25-9.96c1.83-1.06,4.18-.43,5.25,1.41l10.86,18.83c.69,1.18.69,2.65,0,3.84Z'/%3e%3c/svg%3e",lr=""+new URL("../assets/Color_InsertParent.qlrMs8GJ.svg",import.meta.url).href,ir="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%2359eb5c;%20}%20.cls-1,%20.cls-2%20{%20stroke-width:%200px;%20}%20.cls-2%20{%20fill:%20%23ba64f2;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='m76.37,88.97c-.07,3.4-2.94,6.08-6.35,6.08H8.13c-3.43,0-6.21-2.78-6.21-6.21v-43.56c0-3.48,2.85-6.41,6.33-6.35,3.37.06,6.08,2.82,6.08,6.21v33.65c0,2.12,1.72,3.84,3.84,3.84h51.99c1.72,0,3.26.7,4.39,1.82,1.15,1.15,1.85,2.75,1.82,4.52Z'/%3e%3crect%20class='cls-1'%20x='48.41'%20y='89.08'%20width='30.63'%20height='12.41'%20rx='6.21'%20ry='6.21'%20transform='translate(-48.71%2072.97)%20rotate(-45)'/%3e%3crect%20class='cls-1'%20x='57.52'%20y='67.09'%20width='12.41'%20height='30.63'%20rx='6.21'%20ry='6.21'%20transform='translate(-39.6%2069.2)%20rotate(-45)'/%3e%3cpath%20class='cls-2'%20d='m126.08,88.85h0c0,6.16-5,11.16-11.16,11.16h-27.94c-2.05,0-3.72-1.66-3.72-3.72h0c0-2.05,1.66-3.72,3.72-3.72h21.58c1.03,0,1.96-.42,2.63-1.09.73-.73,1.16-1.76,1.08-2.88-.13-1.97-1.85-3.47-3.83-3.47h-21.47c-2.05,0-3.72-1.66-3.72-3.72h0c0-2.05,1.66-3.72,3.72-3.72h27.94c6.16,0,11.16,5,11.16,11.16Z'/%3e%3cg%3e%3crect%20class='cls-1'%20x='76.7'%20y='32.05'%20width='49.06'%20height='13.79'%20rx='6.9'%20ry='6.9'/%3e%3crect%20class='cls-1'%20x='76.7'%20y='32.05'%20width='49.06'%20height='13.79'%20rx='6.9'%20ry='6.9'%20transform='translate(140.17%20-62.28)%20rotate(90)'/%3e%3c/g%3e%3c/svg%3e",sr="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%2359eb5c;%20stroke-width:%200px;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='m61.71,29.05h-30.63c-11.43,0-20.69,9.26-20.69,20.69v55.64c0,11.43,9.26,20.69,20.69,20.69h30.63c11.43,0,20.69-9.26,20.69-20.69v-55.64c0-11.43-9.26-20.69-20.69-20.69Zm8.28,76.33c0,4.56-3.71,8.28-8.28,8.28h-30.63c-4.56,0-8.28-3.71-8.28-8.28v-55.64c0-4.56,3.71-8.28,8.28-8.28h30.63c4.56,0,8.28,3.71,8.28,8.28v55.64Z'/%3e%3cpath%20class='cls-1'%20d='m97.71,1.92h-30.63c-11.43,0-20.69,9.26-20.69,20.69v18.86h12.42v-18.86c0-4.56,3.71-8.28,8.28-8.28h30.63c4.56,0,8.28,3.71,8.28,8.28v55.64c0,4.56-3.71,8.28-8.28,8.28h-27.73v12.42h27.73c11.43,0,20.69-9.26,20.69-20.69V22.61c0-11.43-9.26-20.69-20.69-20.69Z'/%3e%3c/svg%3e",ur="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23e1e1e0;%20}%20.cls-1,%20.cls-2%20{%20stroke-width:%200px;%20}%20.cls-2%20{%20fill:%20%23ba64f2;%20}%20%3c/style%3e%3c/defs%3e%3crect%20class='cls-2'%20x='28.81'%20y='52.84'%20width='70.38'%20height='22.32'%20rx='11.16'%20ry='11.16'/%3e%3cg%3e%3crect%20class='cls-1'%20x='56.52'%20y='1.92'%20width='12.42'%20height='44.02'%20rx='6.21'%20ry='6.21'/%3e%3crect%20class='cls-1'%20x='53.86'%20y='27.08'%20width='30.64'%20height='12.42'%20rx='6.21'%20ry='6.21'%20transform='translate(-3.28%2058.67)%20rotate(-45)'/%3e%3crect%20class='cls-1'%20x='50.08'%20y='17.97'%20width='12.42'%20height='30.64'%20rx='6.21'%20ry='6.21'%20transform='translate(-7.05%2049.55)%20rotate(-45)'/%3e%3c/g%3e%3cg%3e%3crect%20class='cls-1'%20x='56.52'%20y='82.06'%20width='12.42'%20height='44.02'%20rx='6.21'%20ry='6.21'/%3e%3crect%20class='cls-1'%20x='40.97'%20y='88.5'%20width='30.64'%20height='12.42'%20rx='6.21'%20ry='6.21'%20transform='translate(-50.48%2067.54)%20rotate(-45)'/%3e%3crect%20class='cls-1'%20x='62.97'%20y='79.39'%20width='12.42'%20height='30.64'%20rx='6.21'%20ry='6.21'%20transform='translate(-46.71%2076.65)%20rotate(-45)'/%3e%3c/g%3e%3c/svg%3e";var or=z('<span id="info" class="svelte-wk45c3"> </span>'),cr=z('<!> <!> <!> <!> <!> <!> <!> <!> <!> <div id="basis" class="wide svelte-wk45c3"><div style="color: #f00">X: +Right -Left</div> <div style="color: #0f0">Y: +Up -Down</div> <div style="color: #00f">Z: +Forward -Backward</div></div> <div class="center svelte-wk45c3">Reset:</div> <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: round(0.3em, 1px)"><button class="svelte-wk45c3">Position</button> <button class="svelte-wk45c3">Rotation</button> <button class="svelte-wk45c3">Scale</button></div> <button class="wide svelte-wk45c3">Create Pivot At Center</button> <div class="wide svelte-wk45c3" style="display: grid; grid-template-columns: 1fr 1fr; gap: round(0.3em, 1px)"><button class="svelte-wk45c3">Jump To</button> <button class="svelte-wk45c3">Bring To</button></div> <div class="center svelte-wk45c3">Parent Under:</div> <div style="display: grid; grid-template-columns: 1fr 1fr; gap: round(0.3em, 1px)"><button class="svelte-wk45c3">Local User Space</button> <button class="svelte-wk45c3">World Root</button></div> <!>',1),dr=z('<div id="outer" class="svelte-wk45c3"><div id="topbar" class="svelte-wk45c3"><div id="title" class="svelte-wk45c3">Slot: <span id="name" class="svelte-wk45c3"> </span> <!></div> <button class="svelte-wk45c3"><img title="Destroy" class="svelte-wk45c3"/></button> <button class="svelte-wk45c3"><img title="Destroy Preserving Assets" class="svelte-wk45c3"/></button> <button class="svelte-wk45c3"><img title="Insert Parent" class="svelte-wk45c3"/></button> <button class="svelte-wk45c3"><img title="Add Child" class="svelte-wk45c3"/></button> <button class="svelte-wk45c3"><img title="Duplicate" class="svelte-wk45c3"/></button> <button class="svelte-wk45c3"><img title="Set Root" class="svelte-wk45c3"/></button></div> <div id="content" class="svelte-wk45c3"><!></div></div>');function vr(r,t){A(t,!0);let n=ve(t,"slotId",15,null),a=w(()=>n()===null?void 0:be.get(n()));ze(()=>{O.linkOpen&&n()&&W(n())}),ze(()=>{e(a)===null&&(O.sendNotification("Couldn't get selected slot."),n(null))});function i(){e(a)&&W(e(a).id)}async function l(j,V){e(a)&&(await G.updateSlot({id:e(a).id,[j]:V}),W(e(a).id))}async function u(j,V){e(a)&&(await l(j,V),W(e(a).id))}async function c(j,V){if(e(a)){const ue=e(a).parent.targetId;await l(j,V),ue&&W(ue),e(a).parent.targetId&&W(e(a).parent.targetId)}}function s(){O.sendNotification("This doesn't do anything (yet)")}function o(){if(e(a)&&e(a).parent.targetId){const j=e(a).parent.targetId;G.removeSlot(e(a).id).then(()=>{n(null),W(j)}).catch(V=>{O.sendNotification("Failed to destroy."),console.error(V)})}}function v(){if(e(a)&&e(a).parent.targetId){const j=e(a).parent.targetId,V=G.getUniqueId();G.batch().addSlot({id:V,parent:{targetId:j},name:{value:`${e(a).name.value} - Parent`},tag:{value:e(a).tag.value},position:{value:e(a).position.value},rotation:{value:e(a).rotation.value},scale:{value:e(a).scale.value}}).updateSlot({id:e(a).id,parent:{targetId:V},position:{value:{x:0,y:0,z:0}},rotation:{value:{x:0,y:0,z:0,w:1}},scale:{value:{x:1,y:1,z:1}}}).send().then(()=>{pt([e(a).id,j])}).catch(ue=>{O.sendNotification("Failed to insert parent."),console.error(ue)})}}async function m(){if(e(a)){const j=e(a).id;await G.addSlot({parent:{targetId:e(a).id},name:{value:`${e(a).name.value} - Child`},tag:{value:e(a).tag.value}}),W(j)}}function g(){e(a)&&(O.rootSlotId=e(a).id)}async function x(){e(a)&&(await G.updateSlot({id:e(a).id,position:{value:{x:0,y:0,z:0}}}),W(e(a).id))}async function k(){e(a)&&(await G.updateSlot({id:e(a).id,rotation:{value:{x:0,y:0,z:0,w:1}}}),W(e(a).id))}async function T(){e(a)&&(await G.updateSlot({id:e(a).id,scale:{value:{x:1,y:1,z:1}}}),W(e(a).id))}async function b(){if(e(a)&&e(a).parent.targetId){const j=e(a).parent.targetId;await G.updateSlot({id:e(a).id,parent:{targetId:"Root"}}),pt([e(a).id,"Root",j])}}var h=dr(),L=p(h),M=p(L),E=d(p(M)),C=p(E,!0);y(E);var N=d(E,2);{var I=j=>{var V=or(),ue=p(V);y(V),H(()=>Y(ue,`(${e(a).id??""})`)),R(j,V)};K(N,j=>{e(a)&&O.resoniteLinkMode&&j(I)})}y(M);var B=d(M,2),D=p(B);y(B);var U=d(B,2),_=p(U);y(U);var te=d(U,2),_e=p(te);y(te);var re=d(te,2),ie=p(re);y(re);var le=d(re,2),ge=p(le);y(le);var se=d(le,2),Ce=p(se);y(se),y(L);var De=d(L,2),Ne=p(De);{var Oe=j=>{var V=cr(),ue=Q(V);{let Z=w(()=>({...e(a).name,$type:"string"}));ne(ue,{displayName:"Name",name:"name",get data(){return e(Z)},changeField:u,update:i})}var tt=d(ue,2);{let Z=w(()=>({...e(a).parent,$type:"reference"}));ne(tt,{displayName:"Parent",name:"parent",get data(){return e(Z)},changeField:c,update:i})}var nt=d(tt,2);{let Z=w(()=>({...e(a).tag,$type:"string"}));ne(nt,{displayName:"Tag",name:"tag",get data(){return e(Z)},changeField:l,update:i})}var at=d(nt,2);{let Z=w(()=>({...e(a).isActive,$type:"bool"}));ne(at,{displayName:"Active",name:"isActive",get data(){return e(Z)},changeField:u,update:i})}var rt=d(at,2);{let Z=w(()=>({...e(a).isPersistent,$type:"bool"}));ne(rt,{displayName:"Persistent",name:"isPersistent",get data(){return e(Z)},changeField:u,update:i})}var lt=d(rt,2);{let Z=w(()=>({...e(a).position,$type:"float3"}));ne(lt,{displayName:"Position",name:"position",get data(){return e(Z)},changeField:l,update:i})}var it=d(lt,2);{let Z=w(()=>({...e(a).rotation,$type:"floatQ"}));ne(it,{displayName:"Rotation",name:"rotation",get data(){return e(Z)},changeField:l,update:i})}var st=d(it,2);{let Z=w(()=>({...e(a).scale,$type:"float3"}));ne(st,{displayName:"Scale",name:"scale",get data(){return e(Z)},changeField:l,update:i})}var ut=d(st,2);{let Z=w(()=>({...e(a).orderOffset,$type:"long"}));ne(ut,{displayName:"OrderOffset",name:"orderOffset",get data(){return e(Z)},changeField:l,update:i})}var Ae=d(ut,6),ot=p(Ae),ct=d(ot,2),qt=d(ct,2);y(Ae);var dt=d(Ae,2),Pe=d(dt,2),vt=p(Pe),Ut=d(vt,2);y(Pe);var Be=d(Pe,4),mt=p(Be),Qt=d(mt,2);y(Be);var Xt=d(Be,2);pe(Xt,17,()=>e(a).components||[],Z=>Z.id,(Z,jt)=>{nr(Z,{get componentId(){return e(jt).id}})}),f("click",ot,x),f("click",ct,k),f("click",qt,T),f("click",dt,s),f("click",vt,s),f("click",Ut,s),f("click",mt,s),f("click",Qt,b),R(j,V)};K(Ne,j=>{e(a)&&j(Oe)})}y(De),y(h),H(()=>{Y(C,e(a)?e(a).name.value:""),$(D,"src",ar),$(_,"src",rr),$(_e,"src",lr),$(ie,"src",ir),$(ge,"src",sr),$(Ce,"src",ur)}),f("click",E,i),f("click",B,o),f("click",U,s),f("click",te,v),f("click",re,m),f("click",le,s),f("click",se,g),R(r,h),P()}X(["click"]);var mr=z('<!> <div class="svelte-bj3ayk"> </div>',1);function fr(r,t){A(t,!0);let n=ce(0),a=ce(0);document.addEventListener("pointermove",k=>{q(n,k.clientX,!0),q(a,k.clientY,!0)});let i=ce(""),l=ce(0),u=ce("var(--heroRed)"),c=-1,s;function o(k,T="var(--heroRed)"){q(i,k,!0),q(u,T,!0),e(l)===1?(s.classList.add("notransition"),q(l,0),setTimeout(()=>{s.classList.remove("notransition"),q(l,1)},50)):q(l,1),clearTimeout(c),c=setTimeout(()=>{q(l,0)},5e3)}O.sendNotification=o;var v=mr(),m=Q(v);K(m,k=>{});var g=d(m,2),x=p(g,!0);y(g),Sn(g,k=>s=k,()=>s),H(()=>{he(g,`border-color: ${e(u)??""}; top: ${e(a)??""}px; right: calc(100vw - ${e(n)??""}px + round(0.3em, 1px)); transform: scale(${e(l)??""});`),Y(x,e(i))}),R(r,v),P()}var gr=z('<div id="outer" class="svelte-1uha8ag"><!> <div id="inspector" class="svelte-1uha8ag"><div style="height: 100%;"><!></div> <div style="height: 100%;"><!></div></div> <!></div>');function _r(r,t){A(t,!0);var n=gr(),a=p(n);Xn(a,{});var i=d(a,2),l=p(i),u=p(l);$n(u,{get slotId(){return O.rootSlotId},set slotId(v){O.rootSlotId=v}}),y(l);var c=d(l,2),s=p(c);vr(s,{get slotId(){return O.selectedSlot},set slotId(v){O.selectedSlot=v}}),y(c),y(i);var o=d(i,2);fr(o,{}),y(n),R(r,n),P()}export{_r as component};

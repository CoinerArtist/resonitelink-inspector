import{a as E,f as M,c as Ae}from"../chunks/C_bgGiQ-.js";import{ar as at,c as ee,as as rt,v as Le,y as xe,z as le,h as Z,A as ce,e as oe,D as n,$ as lt,a as he,i as it,w as ut,x as ot,s as st,a0 as ct,a8 as dt,at as Ne,b as Fe,au as vt,av as qe,O as gt,aw as ze,a5 as Ie,ax as mt,ay as Te,az as ft,aA as ht,am as bt,aB as ne,r as Pe,p as Ue,aC as be,Y as Be,aD as _t,aE as yt,a4 as pt,d as kt,a1 as xt,aF as Qe,ai as Ft,aG as Ge,aH as wt,aI as St,X as It,aJ as Et,aK as Mt,aL as Ct,aM as Nt,aN as Tt,aO as Dt,ao as Ot,g as Rt,aj as At,F as He,k as A,t as B,l as L,n as k,o as y,ap as me,G as P,q as g,aP as j,aQ as Ee,aq as p,u as Lt,j as H,aR as Me,aS as Xe}from"../chunks/BI4TnnkF.js";import{d as Q,s as Y,e as Ce}from"../chunks/D3tDJo5d.js";import{p as re,i as $}from"../chunks/VZV6XXCD.js";import{a as Ye,o as Ve}from"../chunks/iIdsAv0Q.js";function X(a,e=[],t=[],r){var i=Z,l=null;if(i&&(Le(),l=xe(!1)),t.length===0&&e.every(d=>d.settled)){r(a),i&&le(l);return}var u=at(),o=ee,c=u.is_rendered();if(u.update_pending_count(1),o.increment(c),i){var s=oe;le(l)}rt(e,[],t,d=>{i&&(ce(!0),le(s));try{for(const b of d)n(b);r(a,...d)}finally{i&&ce(!1),u.update_pending_count(-1),o.decrement(c)}})}function qt(a,e,t){for(var r=[],i=e.length,l,u=e.length,o=0;o<i;o++){let b=e[o];Ue(b,()=>{if(l){if(l.pending.delete(b),l.done.add(b),l.pending.size===0){var _=a.outrogroups;we(Ie(l.done)),_.delete(l),_.size===0&&(a.outrogroups=null)}}else u-=1},!1)}if(u===0){var c=r.length===0&&t!==null;if(c){var s=t,d=s.parentNode;pt(d),d.append(s),a.items.clear()}we(e,!c)}else l={pending:new Set(e),done:new Set},(a.outrogroups??=new Set).add(l)}function we(a,e=!0){for(var t=0;t<a.length;t++)kt(a[t],e)}var De;function ge(a,e,t,r,i,l=null){var u=a,o=new Map,c=(e&qe)!==0;if(c){var s=a;u=Z?le(lt(s)):s.appendChild(he())}Z&&Le();var d=null,b=gt(()=>{var m=t();return ze(m)?m:m==null?[]:Ie(m)}),_,h=!0;function S(){f.fallback=d,zt(f,_,u,e,r),d!==null&&(_.length===0?(d.f&ne)===0?Pe(d):(d.f^=ne,se(d,null,u)):Ue(d,()=>{d=null}))}var x=it(()=>{_=n(b);var m=_.length;let C=!1;if(Z){var N=ut(u)===ot;N!==(m===0)&&(u=xe(),le(u),ce(!1),C=!0)}for(var R=new Set,q=ee,I=st(),O=0;O<m;O+=1){Z&&oe.nodeType===ct&&oe.data===dt&&(u=oe,C=!0,ce(!1));var U=_[O],v=r(U,O),D=h?null:o.get(v);D?(D.v&&Ne(D.v,U),D.i&&Ne(D.i,O),I&&q.unskip_effect(D.e)):(D=Pt(o,h?u:De??=he(),U,v,O,i,e,t),h||(D.e.f|=ne),o.set(v,D)),R.add(v)}if(m===0&&l&&!d&&(h?d=Fe(()=>l(u)):(d=Fe(()=>l(De??=he())),d.f|=ne)),m>R.size&&vt(),Z&&m>0&&le(xe()),!h)if(I){for(const[W,te]of o)R.has(W)||q.skip_effect(te.e);q.oncommit(S),q.ondiscard(()=>{})}else S();C&&ce(!0),n(b)}),f={effect:x,items:o,outrogroups:null,fallback:d};h=!1,Z&&(u=oe)}function ue(a){for(;a!==null&&(a.f&_t)===0;)a=a.next;return a}function zt(a,e,t,r,i){var l=(r&yt)!==0,u=e.length,o=a.items,c=ue(a.effect.first),s,d=null,b,_=[],h=[],S,x,f,m;if(l)for(m=0;m<u;m+=1)S=e[m],x=i(S,m),f=o.get(x).e,(f.f&ne)===0&&(f.nodes?.a?.measure(),(b??=new Set).add(f));for(m=0;m<u;m+=1){if(S=e[m],x=i(S,m),f=o.get(x).e,a.outrogroups!==null)for(const D of a.outrogroups)D.pending.delete(f),D.done.delete(f);if((f.f&ne)!==0)if(f.f^=ne,f===c)se(f,null,t);else{var C=d?d.next:c;f===a.effect.last&&(a.effect.last=f.prev),f.prev&&(f.prev.next=f.next),f.next&&(f.next.prev=f.prev),ae(a,d,f),ae(a,f,C),se(f,C,t),d=f,_=[],h=[],c=ue(d.next);continue}if((f.f&be)!==0&&(Pe(f),l&&(f.nodes?.a?.unfix(),(b??=new Set).delete(f))),f!==c){if(s!==void 0&&s.has(f)){if(_.length<h.length){var N=h[0],R;d=N.prev;var q=_[0],I=_[_.length-1];for(R=0;R<_.length;R+=1)se(_[R],N,t);for(R=0;R<h.length;R+=1)s.delete(h[R]);ae(a,q.prev,I.next),ae(a,d,q),ae(a,I,N),c=N,d=I,m-=1,_=[],h=[]}else s.delete(f),se(f,c,t),ae(a,f.prev,f.next),ae(a,f,d===null?a.effect.first:d.next),ae(a,d,f),d=f;continue}for(_=[],h=[];c!==null&&c!==f;)(s??=new Set).add(c),h.push(c),c=ue(c.next);if(c===null)continue}(f.f&ne)===0&&_.push(f),d=f,c=ue(f.next)}if(a.outrogroups!==null){for(const D of a.outrogroups)D.pending.size===0&&(we(Ie(D.done)),a.outrogroups?.delete(D));a.outrogroups.size===0&&(a.outrogroups=null)}if(c!==null||s!==void 0){var O=[];if(s!==void 0)for(f of s)(f.f&be)===0&&O.push(f);for(;c!==null;)(c.f&be)===0&&c!==a.fallback&&O.push(c),c=ue(c.next);var U=O.length;if(U>0){var v=(r&qe)!==0&&u===0?t:null;if(l){for(m=0;m<U;m+=1)O[m].nodes?.a?.measure();for(m=0;m<U;m+=1)O[m].nodes?.a?.fix()}qt(a,O,v)}}l&&Be(()=>{if(b!==void 0)for(f of b)f.nodes?.a?.apply()})}function Pt(a,e,t,r,i,l,u,o){var c=(u&ft)!==0?(u&ht)===0?bt(t,!1,!1):Te(t):null,s=(u&mt)!==0?Te(i):null;return{v:c,i:s,e:Fe(()=>(l(e,c??t,s??i,o),()=>{a.delete(r)}))}}function se(a,e,t){if(a.nodes)for(var r=a.nodes.start,i=a.nodes.end,l=e&&(e.f&ne)===0?e.nodes.start:t;r!==null;){var u=xt(r);if(l.before(r),r===i)return;r=u}}function ae(a,e,t){e===null?a.effect.first=t:e.next=t,t===null?a.effect.last=e:t.prev=e}function Ut(a,e){return a==null?null:String(a)}function ie(a,e,t,r){var i=a.__style;if(Z||i!==e){var l=Ut(e);(!Z||l!==a.getAttribute("style"))&&(l==null?a.removeAttribute("style"):a.style.cssText=l),a.__style=e}return r}function We(a,e,t=!1){if(a.multiple){if(e==null)return;if(!ze(e))return wt();for(var r of a.options)r.selected=e.includes(de(r));return}for(r of a.options){var i=de(r);if(St(i,e)){r.selected=!0;return}}(!t||e!==void 0)&&(a.selectedIndex=-1)}function Bt(a){var e=new MutationObserver(()=>{We(a,a.__value)});e.observe(a,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),It(()=>{e.disconnect()})}function Qt(a,e,t=e){var r=new WeakSet,i=!0;Qe(a,"change",l=>{var u=l?"[selected]":":checked",o;if(a.multiple)o=[].map.call(a.querySelectorAll(u),de);else{var c=a.querySelector(u)??a.querySelector("option:not([disabled])");o=c&&de(c)}t(o),ee!==null&&r.add(ee)}),Ft(()=>{var l=e();if(a===document.activeElement){var u=Ge??ee;if(r.has(u))return}if(We(a,l,i),i&&l===void 0){var o=a.querySelector(":checked");o!==null&&(l=de(o),t(l))}a.__value=l,i=!1}),Bt(a)}function de(a){return"__value"in a?a.__value:a.value}const Gt=Symbol("is custom element"),Ht=Symbol("is html"),Xt=Nt?"link":"LINK";function F(a){if(Z){var e=!1,t=()=>{if(!e){if(e=!0,a.hasAttribute("value")){var r=a.value;ve(a,"value",null),a.value=r}if(a.hasAttribute("checked")){var i=a.checked;ve(a,"checked",null),a.checked=i}}};a.__on_r=t,Be(t),Et()}}function ve(a,e,t,r){var i=Yt(a);Z&&(i[e]=a.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&a.nodeName===Xt)||i[e]!==(i[e]=t)&&(e==="loading"&&(a[Mt]=t),t==null?a.removeAttribute(e):typeof t!="string"&&Vt(a).includes(e)?a[e]=t:a.setAttribute(e,t))}function Yt(a){return a.__attributes??={[Gt]:a.nodeName.includes("-"),[Ht]:a.namespaceURI===Ct}}var Oe=new Map;function Vt(a){var e=a.getAttribute("is")||a.nodeName,t=Oe.get(e);if(t)return t;Oe.set(e,t=[]);for(var r,i=a,l=Element.prototype;l!==i;){r=Dt(i);for(var u in r)r[u].set&&t.push(u);i=Tt(i)}return t}function w(a,e,t=e){var r=new WeakSet;Qe(a,"input",async i=>{var l=i?a.defaultValue:a.value;if(l=_e(a)?ye(l):l,t(l),ee!==null&&r.add(ee),await Ot(),l!==(l=e())){var u=a.selectionStart,o=a.selectionEnd,c=a.value.length;if(a.value=l??"",o!==null){var s=a.value.length;u===o&&o===c&&s>c?(a.selectionStart=s,a.selectionEnd=s):(a.selectionStart=u,a.selectionEnd=Math.min(o,s))}}}),(Z&&a.defaultValue!==a.value||Rt(e)==null&&a.value)&&(t(_e(a)?ye(a.value):a.value),ee!==null&&r.add(ee)),At(()=>{var i=e();if(a===document.activeElement){var l=Ge??ee;if(r.has(l))return}_e(a)&&i===ye(a.value)||a.type==="date"&&!i&&!a.value||i!==a.value&&(a.value=i??"")})}function _e(a){var e=a.type;return e==="number"||e==="range"}function ye(a){return a===""?null:+a}const Wt={byte:"number","byte[]":"number[]","byte?":"number | null",ushort:"number","ushort[]":"number[]","ushort?":"number | null",uint:"number","uint[]":"number[]","uint?":"number | null",ulong:"number","ulong[]":"number[]","ulong?":"number | null",sbyte:"number","sbyte[]":"number[]","sbyte?":"number | null",short:"number","short[]":"number[]","short?":"number | null",int:"number","int[]":"number[]","int?":"number | null",long:"number","long[]":"number[]","long?":"number | null",float:"number","float[]":"number[]","float?":"number | null",double:"number","double[]":"number[]","double?":"number | null",decimal:"number","decimal[]":"number[]","decimal?":"number | null",bool:"boolean","bool[]":"boolean[]","bool?":"boolean | null",char:"string","char[]":"string[]","char?":"string | null",string:"string | null","string[]":"(string | null)[]",Uri:"string","Uri[]":"string[]",DateTime:"string","DateTime[]":"string[]","DateTime?":"string | null",TimeSpan:"string","TimeSpan[]":"string[]","TimeSpan?":"string | null",color:"color","color[]":"color[]","color?":"color | null",colorX:"colorX","colorX[]":"colorX[]","colorX?":"colorX | null",color32:"color32","color32[]":"color32[]","color32?":"color32 | null",Rect:"rect","Rect[]":"rect[]","Rect?":"rect | null",IntRect:"rect","IntRect[]":"rect[]","IntRect?":"rect | null",float2:"number2","float2[]":"number2[]","float2?":"number2 | null",double2:"number2","double2[]":"number2[]","double2?":"number2 | null",byte2:"number2","byte2[]":"number2[]","byte2?":"number2 | null",ushort2:"number2","ushort2[]":"number2[]","ushort2?":"number2 | null",uint2:"number2","uint2[]":"number2[]","uint2?":"number2 | null",ulong2:"number2","ulong2[]":"number2[]","ulong2?":"number2 | null",sbyte2:"number2","sbyte2[]":"number2[]","sbyte2?":"number2 | null",short2:"number2","short2[]":"number2[]","short2?":"number2 | null",int2:"number2","int2[]":"number2[]","int2?":"number2 | null",long2:"number2","long2[]":"number2[]","long2?":"number2 | null",bool2:"boolean2","bool2[]":"boolean2[]","bool2?":"boolean2 | null",float3:"number3","float3[]":"number3[]","float3?":"number3 | null",double3:"number3","double3[]":"number3[]","double3?":"number3 | null",byte3:"number3","byte3[]":"number3[]","byte3?":"number3 | null",ushort3:"number3","ushort3[]":"number3[]","ushort3?":"number3 | null",uint3:"number3","uint3[]":"number3[]","uint3?":"number3 | null",ulong3:"number3","ulong3[]":"number3[]","ulong3?":"number3 | null",sbyte3:"number3","sbyte3[]":"number3[]","sbyte3?":"number3 | null",short3:"number3","short3[]":"number3[]","short3?":"number3 | null",int3:"number3","int3[]":"number3[]","int3?":"number3 | null",long3:"number3","long3[]":"number3[]","long3?":"number3 | null",bool3:"boolean3","bool3[]":"boolean3[]","bool3?":"boolean3 | null",float4:"number4","float4[]":"number4[]","float4?":"number4 | null",double4:"number4","double4[]":"number4[]","double4?":"number4 | null",byte4:"number4","byte4[]":"number4[]","byte4?":"number4 | null",ushort4:"number4","ushort4[]":"number4[]","ushort4?":"number4 | null",uint4:"number4","uint4[]":"number4[]","uint4?":"number4 | null",ulong4:"number4","ulong4[]":"number4[]","ulong4?":"number4 | null",sbyte4:"number4","sbyte4[]":"number4[]","sbyte4?":"number4 | null",short4:"number4","short4[]":"number4[]","short4?":"number4 | null",int4:"number4","int4[]":"number4[]","int4?":"number4 | null",long4:"number4","long4[]":"number4[]","long4?":"number4 | null",bool4:"boolean4","bool4[]":"boolean4[]","bool4?":"boolean4 | null",floatQ:"numberQ","floatQ[]":"numberQ[]","floatQ?":"numberQ | null",doubleQ:"numberQ","doubleQ[]":"numberQ[]","doubleQ?":"numberQ | null",float2x2:"number2x2","float2x2[]":"number2x2[]","float2x2?":"number2x2 | null",double2x2:"number2x2","double2x2[]":"number2x2[]","double2x2?":"number2x2 | null",float3x3:"number3x3","float3x3[]":"number3x3[]","float3x3?":"number3x3 | null",double3x3:"number3x3","double3x3[]":"number3x3[]","double3x3?":"number3x3 | null",float4x4:"number4x4","float4x4[]":"number4x4[]","float4x4?":"number4x4 | null",double4x4:"number4x4","double4x4[]":"number4x4[]","double4x4?":"number4x4 | null",enum:"string","enum?":"string | null"};function je(a){return Wt[a]}function Je(a){return a.endsWith("?")}function jt(a){return a.endsWith("[]")}function Re(a){return Je(a)?a.slice(0,-1):jt(a)?a.slice(0,-2):a}class Jt{socket=null;awaitingPromises=new Map;listeners={open:[],close:[]};connect(e){return new Promise((t,r)=>{this.socket!==null&&this.socket.close(),this.socket=new WebSocket(e),this.socket.addEventListener("open",()=>{t();for(const i of this.listeners.open)i()}),this.socket.addEventListener("close",()=>{r(new Error(`Failed to connect to ${e}.`));for(const i of this.listeners.close)i()}),this.socket.addEventListener("message",i=>{const l=JSON.parse(i.data);if(this.awaitingPromises.has(l.sourceMessageId)){const u=l.sourceMessageId,[o,c]=this.awaitingPromises.get(u);this.awaitingPromises.delete(u),l.success?o(l):c(l)}else throw console.error(l),new Error(`Received a message (${l.sourceMessageId}) without a matching Promise.`)})})}disconnect(){this.socket!==null&&(this.socket.close(),this._sessionId=null,this.awaitingPromises.clear())}addEventListener(e,t){this.listeners[e].push(t)}removeEventListener(e,t){const r=this.listeners[e].indexOf(t);r>0&&this.listeners[e].splice(r,1)}get readyState(){return this.socket?this.socket.readyState:WebSocket.CLOSED}messageId=0;getMessageId(){return this.messageId++}_sessionId=null;get sessionId(){return this._sessionId}id=0;getUniqueId(){if(this._sessionId===null)throw new Error("You need to call `requestSessionData()` once before using `getUniqueId()`");return`TS${this._sessionId}_${(this.id++).toString(16)}`}sendRequest(e){if(this.socket===null)throw new Error("You have to call `connect` before sending a request.");if(this.readyState!==WebSocket.OPEN)throw new Error(`Socket(${this.socket.url}) is ${["CONNECTING","OPEN but wasn't earlier","CLOSING","CLOSED"][this.socket.readyState]}.`);const t=this.getMessageId();return new Promise((r,i)=>{const l=t.toString(16);this.awaitingPromises.set(l,[r,i]),this.socket.send(JSON.stringify({...e,messageId:l}))})}async requestSessionData(){const e=await this.sendRequest({$type:"requestSessionData"});return this._sessionId=e.uniqueSessionId,e}addComponent(e,t){return this.sendRequest({$type:"addComponent",containerSlotId:e,data:t})}updateComponent(e){return this.sendRequest({$type:"updateComponent",data:e})}getComponent(e){return this.sendRequest({$type:"getComponent",componentId:e})}removeComponent(e){return this.sendRequest({$type:"removeComponent",componentId:e})}addSlot(e){return this.sendRequest({$type:"addSlot",data:e})}updateSlot(e){return this.sendRequest({$type:"updateSlot",data:e})}getSlot(e,t=0,r=!1){return this.sendRequest({$type:"getSlot",slotId:e,depth:t,includeComponentData:r})}removeSlot(e){return this.sendRequest({$type:"removeSlot",slotId:e})}getComponentDefinition(e,t=!1){return this.sendRequest({$type:"getComponentDefinition",componentType:e,flattened:t})}getComponentTypeList(e){return this.sendRequest({$type:"getComponentTypeList",categoryPath:e})}getEnumDefinition(e){return this.sendRequest({$type:"getEnumDefinition",type:e})}getGenericTypeDefinition(e){return this.sendRequest({$type:"getGenericTypeDefinition",genericInstanceType:e})}getSyncObjectDefinition(e,t=!1){return this.sendRequest({$type:"getSyncObjectDefinition",syncObjectType:e,flattened:t})}getTypeDefinition(e){return this.sendRequest({$type:"getTypeDefinition",type:e})}dataModelOperationBatch(e){return this.sendRequest({$type:"dataModelOperationBatch",operations:e})}batch(){return new Kt(this)}}class Kt{operations=[];link;constructor(e){this.link=e}send(){return this.link.dataModelOperationBatch(this.operations)}addOperation(e){return this.operations.push(e),this}addComponent(e,t){return this.addOperation({$type:"addComponent",containerSlotId:e,data:t})}updateComponent(e){return this.addOperation({$type:"updateComponent",data:e})}getComponent(e){return this.addOperation({$type:"getComponent",componentId:e})}removeComponent(e){return this.addOperation({$type:"removeComponent",componentId:e})}addSlot(e){return this.addOperation({$type:"addSlot",data:e})}updateSlot(e){return this.addOperation({$type:"updateSlot",data:e})}getSlot(e,t=0,r=!1){return this.addOperation({$type:"getSlot",slotId:e,depth:t,includeComponentData:r})}removeSlot(e){return this.addOperation({$type:"removeSlot",slotId:e})}}const T=He({linkOpen:!1,resoniteLinkMode:!1,selectedSlot:"",slotUpdate:new Map,componentUpdate:()=>{}}),G=new Jt;G.addEventListener("open",()=>T.linkOpen=!0);G.addEventListener("close",()=>{T.linkOpen=!1,T.selectedSlot=""});var Zt=M('<button class="svelte-1l6mkur"><span class="svelte-1l6mkur">✔</span></button>');function J(a,e){A(e,!0);let t=re(e,"checked",15,!1),r=re(e,"onclick",3,()=>{});function i(){t(!t()),r()()}var l=Zt();l.__click=i;var u=k(l);y(l),B(()=>ie(u,`visibility:${t()?"visible":"hidden"};`)),E(a,l),L()}Q(["click"]);var $t=M('<div class="svelte-anx9w7"><span><input placeholder="url" class="svelte-anx9w7"/></span> <button>Connect</button> <span id="errorMessage" class="svelte-anx9w7"> </span> <span><!> ResoniteLink Info</span> <span id="version" class="svelte-anx9w7"><a id="readme" href="https://github.com/CoinerArtist/resonitelink-inspector" class="svelte-anx9w7">README.md</a> <a id="changelog" href="https://github.com/CoinerArtist/resonitelink-inspector/blob/main/changelog.md" class="svelte-anx9w7">v0.0.3</a></span></div>');function en(a,e){A(e,!0);let t=me(He(localStorage.getItem("ResoniteLinkUrl")||"ws://localhost:PORT"));function r(){localStorage.setItem("ResoniteLinkUrl",n(t))}T.resoniteLinkMode=JSON.parse(localStorage.getItem("ResoniteLinkMode")||"false");function i(){localStorage.setItem("ResoniteLinkMode",JSON.stringify(T.resoniteLinkMode))}let l=me("");function u(){G.connect(n(t)).catch(()=>{P(l,`Failed to connect to "${n(t)}".`),setTimeout(()=>P(l,""),2e3)})}var o=$t(),c=k(o),s=k(c);F(s),s.__keyup=r,y(c);var d=g(c,2);d.__click=u;var b=g(d,2),_=k(b,!0);y(b);var h=g(b,2),S=k(h);J(S,{onclick:i,get checked(){return T.resoniteLinkMode},set checked(x){T.resoniteLinkMode=x}}),j(),y(h),j(2),y(o),B(()=>Y(_,n(l))),w(s,()=>n(t),x=>P(t,x)),E(a,o),L()}Q(["keyup","click"]);var tn=M('<span id="info" class="svelte-11f3pda"> </span>'),nn=M('<div id="children" class="svelte-11f3pda"><!></div>'),an=M('<div><div id="outer" class="svelte-11f3pda"><button class="svelte-11f3pda"><div> </div></button> <span id="name" class="svelte-11f3pda"> <!></span> <span id="check" class="svelte-11f3pda"><!></span></div> <!></div>');function Ke(a,e){A(e,!0);let t=re(e,"unfolded",7,!1),r=re(e,"persistent",3,!0),i=re(e,"active",3,!0);async function l(){P(d,(await G.getSlot(e.slotId)).data),(n(d).children||[]).length>0?t(!t()):t(!1)}let u=0;async function o(){const D=Date.now();D-u>500?(u=D,P(d,(await G.getSlot(e.slotId)).data),T.resoniteLinkMode&&console.log(`${n(d).name.value} (${e.slotId})`,n(d))):(u=0,T.selectedSlot=e.slotId)}function c(){G.updateSlot({id:e.slotId,isActive:n(d).isActive}).finally(async()=>{P(d,(await G.getSlot(e.slotId)).data),e.slotId===T.selectedSlot&&T.componentUpdate()})}async function s(){P(d,(await G.getSlot(e.slotId)).data)}var d,b,_,h=Ee([async()=>d=me((await G.getSlot(e.slotId)).data),()=>{Ye(()=>{T.slotUpdate.delete(e.slotId)})},()=>{Ve(()=>{T.slotUpdate.set(e.slotId,s)})},()=>b=p(()=>T.selectedSlot==e.slotId?"--heroYellow":r()?n(d).isPersistent.value?"--light":"--heroOrange":"--midOrange"),()=>_=p(()=>n(d).isActive.value?i()?"1":"0.7":"0.5")]),S=an(),x=k(S),f=k(x);f.__click=l;var m=k(f),C=k(m,!0);y(m),y(f);var N=g(f,2);N.__click=o;var R=k(N),q=g(R);X(q,[h[3]],void 0,D=>{var W=te=>{var V=tn(),z=k(V);y(V),B(()=>Y(z,`(${e.slotId??""})`),void 0,void 0,[h[4]]),E(te,V)};$(D,te=>{T.resoniteLinkMode&&te(W)})}),y(N);var I=g(N,2),O=k(I);X(O,[h[4],h[4]],void 0,D=>{J(O,{get onclick(){return c},get checked(){return n(d).isActive.value},set checked(W){n(d).isActive.value=W}})}),y(I),y(x);var U=g(x,2);{var v=D=>{var W=nn(),te=k(W);X(te,[h[4]],void 0,V=>{ge(V,17,()=>n(d).children||[],z=>z.id,(z,fe)=>{X(z,[h[3],h[4]],void 0,et=>{let tt=p(()=>r()&&n(d).isPersistent.value),nt=p(()=>i()&&n(d).isActive.value);Ke(et,{get slotId(){return n(fe).id},get persistent(){return n(tt)},get active(){return n(nt)}})}),j()})}),y(W),E(D,W)};$(U,D=>{t()&&D(v)})}y(S),B(()=>{ie(m,`transform: ${n(d).children?.length?"scale(1.4)":"scale(2.3) translateY(-0.05em)"};`),Y(C,n(d).children?.length?t()?"⯆":"⯈":"⏺"),ie(N,`--currentColor: var(${n(b)??""}); opacity: ${n(_)??""};`),Y(R,`${n(d).name.value??""} `)},void 0,void 0,[h[4],h[3]]),E(a,S),L()}Q(["click"]);var rn=M('<span id="info" class="svelte-13bzr7"> </span>'),ln=M('<div id="outer" class="svelte-13bzr7"><div id="title" class="svelte-13bzr7"> <!></div> <div id="content" class="svelte-13bzr7"><!></div></div>');function un(a,e){A(e,!0);const t=re(e,"slotId",3,"Root");let r=me("");Lt(()=>{T.linkOpen?G.getSlot(t()).then(_=>{P(r,_.data.name.value||"",!0)}):P(r,"")});var i=ln(),l=k(i),u=k(l),o=g(u);{var c=_=>{var h=rn(),S=k(h);y(h),B(()=>Y(S,`(${t()??""})`)),E(_,h)};$(o,_=>{T.resoniteLinkMode&&_(c)})}y(l);var s=g(l,2),d=k(s);{var b=_=>{Ke(_,{get slotId(){return t()},unfolded:!0})};$(d,_=>{T.linkOpen&&_(b)})}y(s),y(i),B(()=>Y(u,`Root: ${n(r)??""} `)),E(a,i),L()}var on=M('<input type="number"/>');function sn(a,e){A(e,!0);const t=p(()=>({...e.data}));function r(){e.changeField(n(t))}var i=on();F(i),i.__change=r,w(i,()=>n(t).value,l=>n(t).value=l),E(a,i),L()}Q(["change"]);var cn=M('x <input type="number"/> y <input type="number"/> z <input type="number"/>',1);function dn(a,e){A(e,!0);const t=p(()=>({...e.data}));function r(){e.changeField(n(t))}j();var i=cn(),l=g(H(i));F(l),l.__change=r;var u=g(l,2);F(u),u.__change=r;var o=g(u,2);F(o),o.__change=r,w(l,()=>n(t).value.x,c=>n(t).value.x=c),w(u,()=>n(t).value.y,c=>n(t).value.y=c),w(o,()=>n(t).value.z,c=>n(t).value.z=c),E(a,i),L()}Q(["change"]);var vn=M('x <input type="number"/> y <input type="number"/>',1);function gn(a,e){A(e,!0);const t=p(()=>({...e.data}));function r(){e.changeField(n(t))}j();var i=vn(),l=g(H(i));F(l),l.__change=r;var u=g(l,2);F(u),u.__change=r,w(l,()=>n(t).value.x,o=>n(t).value.x=o),w(u,()=>n(t).value.y,o=>n(t).value.y=o),E(a,i),L()}Q(["change"]);function mn(a,e){A(e,!0);const t=p(()=>({...e.data}));function r(){e.changeField(n(t))}J(a,{onclick:r,get checked(){return n(t).value},set checked(i){n(t).value=i}}),L()}var fn=M('<input class="unknownEnum" type="text"/> <span class="type svelte-m9kvh6"> </span>',1);function hn(a,e){A(e,!0);const t=p(()=>({...e.data}));function r(){e.changeField(n(t))}var i=fn(),l=H(i);F(l),l.__change=r;var u=g(l,2),o=k(u);y(u),B(()=>Y(o,`(${e.data.enumType??""})`)),w(l,()=>n(t).value,c=>n(t).value=c),E(a,i),L()}Q(["change"]);var bn=M('x <input type="number"/> y <input type="number"/> z <input type="number"/> w <input type="number"/>',1);function _n(a,e){A(e,!0);const t=p(()=>({...e.data}));function r(){e.changeField(n(t))}j();var i=bn(),l=g(H(i));F(l),l.__change=r;var u=g(l,2);F(u),u.__change=r;var o=g(u,2);F(o),o.__change=r;var c=g(o,2);F(c),c.__change=r,w(l,()=>n(t).value.x,s=>n(t).value.x=s),w(u,()=>n(t).value.y,s=>n(t).value.y=s),w(o,()=>n(t).value.z,s=>n(t).value.z=s),w(c,()=>n(t).value.w,s=>n(t).value.w=s),E(a,i),L()}Q(["change"]);var yn=M('<input type="text"/> <button class="svelte-w1masj"><div id="null" class="svelte-w1masj">∅</div></button>',1);function pn(a,e){A(e,!0);const t=p(()=>({...e.data}));let r=p(()=>n(t).value||""),i=p(()=>n(t).value===null);function l(){n(t).value=n(i)?null:n(r),e.changeField(n(t))}function u(){P(i,!0),l()}function o(){P(i,!1)}var c=yn(),s=H(c);F(s),s.__change=l;var d=g(s,2);d.__click=u,B(()=>ve(s,"placeholder",n(i)?"null":"")),Ce("focus",s,o),w(s,()=>n(r),b=>P(r,b)),E(a,c),L()}Q(["change","click"]);var kn=M('<input type="text"/>');function xn(a,e){A(e,!0);const t=p(()=>({...e.data}));function r(){e.changeField(n(t))}var i=kn();F(i),i.__change=r,w(i,()=>n(t).value,l=>n(t).value=l),E(a,i),L()}Q(["change"]);var Fn=M('<span id="null" class="svelte-1bib7m"><!>?</span> <span id="content" class="svelte-1bib7m"><!></span>',1);function wn(a,e){A(e,!0);const t=p(()=>({...e.data})),r=p(()=>({$type:Re(e.data.$type),id:e.data.id,value:e.data.value===null?u():e.data.value}));let i=p(()=>e.data.value!==null);function l(h){n(t).value=n(i)?h.value:null,e.changeField(n(t))}function u(){switch(je(Re(n(t).$type))){case"number":return 0;case"boolean":return!1;case"string":return"";case"boolean2":case"boolean3":case"boolean4":return{x:!1,y:!1,z:!1,w:!1};default:return{}}}function o(){n(t).value=n(i)?u():null,n(r).value=u(),e.changeField(n(t))}var c=Fn(),s=H(c),d=k(s);J(d,{onclick:o,get checked(){return n(i)},set checked(h){P(i,h)}}),j(),y(s);var b=g(s,2),_=k(b);$e(_,{get data(){return n(r)},changeField:l}),y(b),B(()=>ie(b,n(i)?"":"filter: opacity(50%);")),E(a,c),L()}function Se(a){return a.replaceAll("[FrooxEngine]FrooxEngine.UIX.","").replaceAll("[FrooxEngine]FrooxEngine.","").replaceAll("[Elements.Core]Elements.Core.","").replaceAll("[Elements.Assets]Elements.Assets.","")}function pe(a){T.slotUpdate.has(a)&&T.slotUpdate.get(a)()}function ke(a,e){return Math.round(a*e)/e}var Sn=M('x <input type="number"/> y <input type="number"/> z <input type="number"/>',1);function In(a,e){A(e,!0);const t=p(()=>({...e.data})),r=p(()=>e.data.value),i=p(()=>2*(n(r).x*n(r).z+n(r).w*n(r).y)),l=p(()=>n(r).w*n(r).w-n(r).x*n(r).x-n(r).y*n(r).y+n(r).z*n(r).z),u=p(()=>-2*(n(r).y*n(r).z-n(r).w*n(r).x)),o=p(()=>2*(n(r).x*n(r).y+n(r).w*n(r).z)),c=p(()=>n(r).w*n(r).w-n(r).x*n(r).x+n(r).y*n(r).y-n(r).z*n(r).z);let s=p(()=>ke(Math.asin(n(u))*180/Math.PI,1e3)),d=p(()=>ke(Math.atan2(n(i),n(l))*180/Math.PI,1e3)),b=p(()=>ke(Math.atan2(n(o),n(c))*180/Math.PI,1e3));function _(){const m=Math.cos(n(s)*Math.PI/360),C=Math.cos(n(d)*Math.PI/360),N=Math.cos(n(b)*Math.PI/360),R=Math.sin(n(s)*Math.PI/360),q=Math.sin(n(d)*Math.PI/360),I=Math.sin(n(b)*Math.PI/360);n(t).value={x:R*C*N+m*q*I,y:m*q*N-R*C*I,z:m*C*I-R*q*N,w:m*C*N+R*q*I},e.changeField(n(t))}j();var h=Sn(),S=g(H(h));F(S),S.__change=_;var x=g(S,2);F(x),x.__change=_;var f=g(x,2);F(f),f.__change=_,w(S,()=>n(s),m=>P(s,m)),w(x,()=>n(d),m=>P(d,m)),w(f,()=>n(b),m=>P(b,m)),E(a,h),L()}Q(["change"]);var En=M('R <input type="number"/> G <input type="number"/> B <input type="number"/> A <input type="number"/> <span id="outer" class="svelte-1h03lkm"><span></span> <span id="transparentbg" class="svelte-1h03lkm"><span id="transparent" class="svelte-1h03lkm"></span></span></span>',1);function Ze(a,e){A(e,!0);const t=p(()=>({...e.data}));function r(){e.changeField(n(t))}j();var i=En(),l=g(H(i));F(l),l.__change=r;var u=g(l,2);F(u),u.__change=r;var o=g(u,2);F(o),o.__change=r;var c=g(o,2);F(c),c.__change=r;var s=g(c,2),d=k(s),b=g(d,2),_=k(b);y(b),y(s),B(()=>{ie(d,`background-color: rgb(${n(t).value.r*100}% ${n(t).value.g*100}% ${n(t).value.b*100}%)`),ie(_,`background-color: rgb(${n(t).value.r*100}% ${n(t).value.g*100}% ${n(t).value.b*100}% / ${n(t).value.a*100}%)`)}),w(l,()=>n(t).value.r,h=>n(t).value.r=h),w(u,()=>n(t).value.g,h=>n(t).value.g=h),w(o,()=>n(t).value.b,h=>n(t).value.b=h),w(c,()=>n(t).value.a,h=>n(t).value.a=h),E(a,i),L()}Q(["change"]);var Mn=M('<div id="outer" class="svelte-19z9a8e"><div id="color" class="svelte-19z9a8e"><!></div> <div id="profile" class="svelte-19z9a8e">Profile <span id="enum" class="svelte-19z9a8e"><select><option>Linear</option><option>sRGB</option><option>sRGBAlpha</option></select></span></div></div>');function Cn(a,e){A(e,!0);let t=p(()=>({...e.data}));function r(h){const S=h.value;n(t).value.r=S.r,n(t).value.g=S.g,n(t).value.b=S.b,n(t).value.a=S.a,e.changeField(n(t))}var i=Mn(),l=k(i),u=k(l);Ze(u,{get data(){return e.data},changeField:r}),y(l);var o=g(l,2),c=g(k(o)),s=k(c);s.__change=()=>e.changeField(n(t));var d=k(s);d.value=d.__value="Linear";var b=g(d);b.value=b.__value="sRGB";var _=g(b);_.value=_.__value="sRGBAlpha",y(s),y(c),y(o),y(i),Qt(s,()=>n(t).value.profile,h=>n(t).value.profile=h),E(a,i),L()}Q(["change"]);var Nn=M("x <!> y <!>",1);function Tn(a,e){A(e,!0);const t=p(()=>({...e.data}));function r(){e.changeField(n(t))}j();var i=Nn(),l=g(H(i));J(l,{onclick:r,get checked(){return n(t).value.x},set checked(o){n(t).value.x=o}});var u=g(l,2);J(u,{onclick:r,get checked(){return n(t).value.y},set checked(o){n(t).value.y=o}}),E(a,i),L()}var Dn=M("x <!> y <!> z <!>",1);function On(a,e){A(e,!0);const t=p(()=>({...e.data}));function r(){e.changeField(n(t))}j();var i=Dn(),l=g(H(i));J(l,{onclick:r,get checked(){return n(t).value.x},set checked(c){n(t).value.x=c}});var u=g(l,2);J(u,{onclick:r,get checked(){return n(t).value.y},set checked(c){n(t).value.y=c}});var o=g(u,2);J(o,{onclick:r,get checked(){return n(t).value.z},set checked(c){n(t).value.z=c}}),E(a,i),L()}var Rn=M("x <!> y <!> z <!> w <!>",1);function An(a,e){A(e,!0);const t=p(()=>({...e.data}));function r(){e.changeField(n(t))}j();var i=Rn(),l=g(H(i));J(l,{onclick:r,get checked(){return n(t).value.x},set checked(s){n(t).value.x=s}});var u=g(l,2);J(u,{onclick:r,get checked(){return n(t).value.y},set checked(s){n(t).value.y=s}});var o=g(u,2);J(o,{onclick:r,get checked(){return n(t).value.z},set checked(s){n(t).value.z=s}});var c=g(o,2);J(c,{onclick:r,get checked(){return n(t).value.w},set checked(s){n(t).value.w=s}}),E(a,i),L()}var Ln=M('<div id="outer" class="svelte-qv8xoi"><div class="svelte-qv8xoi"><input type="number"/> <input type="number"/></div> <div class="svelte-qv8xoi"><input type="number"/> <input type="number"/></div></div>');function qn(a,e){A(e,!0);const t=p(()=>({...e.data}));function r(){e.changeField(n(t))}var i=Ln(),l=k(i),u=k(l);F(u),u.__change=r;var o=g(u,2);F(o),o.__change=r,y(l);var c=g(l,2),s=k(c);F(s),s.__change=r;var d=g(s,2);F(d),d.__change=r,y(c),y(i),w(u,()=>n(t).value.m00,b=>n(t).value.m00=b),w(o,()=>n(t).value.m01,b=>n(t).value.m01=b),w(s,()=>n(t).value.m10,b=>n(t).value.m10=b),w(d,()=>n(t).value.m11,b=>n(t).value.m11=b),E(a,i),L()}Q(["change"]);var zn=M('<div id="outer" class="svelte-126smma"><div class="svelte-126smma"><input type="number"/> <input type="number"/> <input type="number"/></div> <div class="svelte-126smma"><input type="number"/> <input type="number"/> <input type="number"/></div> <div class="svelte-126smma"><input type="number"/> <input type="number"/> <input type="number"/></div></div>');function Pn(a,e){A(e,!0);const t=p(()=>({...e.data}));function r(){e.changeField(n(t))}var i=zn(),l=k(i),u=k(l);F(u),u.__change=r;var o=g(u,2);F(o),o.__change=r;var c=g(o,2);F(c),c.__change=r,y(l);var s=g(l,2),d=k(s);F(d),d.__change=r;var b=g(d,2);F(b),b.__change=r;var _=g(b,2);F(_),_.__change=r,y(s);var h=g(s,2),S=k(h);F(S),S.__change=r;var x=g(S,2);F(x),x.__change=r;var f=g(x,2);F(f),f.__change=r,y(h),y(i),w(u,()=>n(t).value.m00,m=>n(t).value.m00=m),w(o,()=>n(t).value.m01,m=>n(t).value.m01=m),w(c,()=>n(t).value.m02,m=>n(t).value.m02=m),w(d,()=>n(t).value.m10,m=>n(t).value.m10=m),w(b,()=>n(t).value.m11,m=>n(t).value.m11=m),w(_,()=>n(t).value.m12,m=>n(t).value.m12=m),w(S,()=>n(t).value.m20,m=>n(t).value.m20=m),w(x,()=>n(t).value.m21,m=>n(t).value.m21=m),w(f,()=>n(t).value.m22,m=>n(t).value.m22=m),E(a,i),L()}Q(["change"]);var Un=M('<div id="outer" class="svelte-1dicbk2"><div class="svelte-1dicbk2"><input type="number"/> <input type="number"/> <input type="number"/> <input type="number"/></div> <div class="svelte-1dicbk2"><input type="number"/> <input type="number"/> <input type="number"/> <input type="number"/></div> <div class="svelte-1dicbk2"><input type="number"/> <input type="number"/> <input type="number"/> <input type="number"/></div> <div class="svelte-1dicbk2"><input type="number"/> <input type="number"/> <input type="number"/> <input type="number"/></div></div>');function Bn(a,e){A(e,!0);const t=p(()=>({...e.data}));function r(){e.changeField(n(t))}var i=Un(),l=k(i),u=k(l);F(u),u.__change=r;var o=g(u,2);F(o),o.__change=r;var c=g(o,2);F(c),c.__change=r;var s=g(c,2);F(s),s.__change=r,y(l);var d=g(l,2),b=k(d);F(b),b.__change=r;var _=g(b,2);F(_),_.__change=r;var h=g(_,2);F(h),h.__change=r;var S=g(h,2);F(S),S.__change=r,y(d);var x=g(d,2),f=k(x);F(f),f.__change=r;var m=g(f,2);F(m),m.__change=r;var C=g(m,2);F(C),C.__change=r;var N=g(C,2);F(N),N.__change=r,y(x);var R=g(x,2),q=k(R);F(q),q.__change=r;var I=g(q,2);F(I),I.__change=r;var O=g(I,2);F(O),O.__change=r;var U=g(O,2);F(U),U.__change=r,y(R),y(i),w(u,()=>n(t).value.m00,v=>n(t).value.m00=v),w(o,()=>n(t).value.m01,v=>n(t).value.m01=v),w(c,()=>n(t).value.m02,v=>n(t).value.m02=v),w(s,()=>n(t).value.m03,v=>n(t).value.m03=v),w(b,()=>n(t).value.m10,v=>n(t).value.m10=v),w(_,()=>n(t).value.m11,v=>n(t).value.m11=v),w(h,()=>n(t).value.m12,v=>n(t).value.m12=v),w(S,()=>n(t).value.m13,v=>n(t).value.m13=v),w(f,()=>n(t).value.m20,v=>n(t).value.m20=v),w(m,()=>n(t).value.m21,v=>n(t).value.m21=v),w(C,()=>n(t).value.m22,v=>n(t).value.m22=v),w(N,()=>n(t).value.m23,v=>n(t).value.m23=v),w(q,()=>n(t).value.m30,v=>n(t).value.m30=v),w(I,()=>n(t).value.m31,v=>n(t).value.m31=v),w(O,()=>n(t).value.m32,v=>n(t).value.m32=v),w(U,()=>n(t).value.m33,v=>n(t).value.m33=v),E(a,i),L()}Q(["change"]);var Qn=M('<span class="type svelte-1ykag21"> </span>');function $e(a,e){A(e,!0);const t=p(()=>je(e.data.$type));var r=Ae(),i=H(r);{var l=v=>{wn(v,{get data(){return e.data},get changeField(){return e.changeField}})},u=p(()=>Je(e.data.$type)),o=v=>{hn(v,{get data(){return e.data},get changeField(){return e.changeField}})},c=v=>{mn(v,{get data(){return e.data},get changeField(){return e.changeField}})},s=v=>{sn(v,{get data(){return e.data},get changeField(){return e.changeField}})},d=v=>{gn(v,{get data(){return e.data},get changeField(){return e.changeField}})},b=v=>{Tn(v,{get data(){return e.data},get changeField(){return e.changeField}})},_=v=>{dn(v,{get data(){return e.data},get changeField(){return e.changeField}})},h=v=>{On(v,{get data(){return e.data},get changeField(){return e.changeField}})},S=v=>{_n(v,{get data(){return e.data},get changeField(){return e.changeField}})},x=v=>{An(v,{get data(){return e.data},get changeField(){return e.changeField}})},f=v=>{In(v,{get data(){return e.data},get changeField(){return e.changeField}})},m=v=>{qn(v,{get data(){return e.data},get changeField(){return e.changeField}})},C=v=>{Pn(v,{get data(){return e.data},get changeField(){return e.changeField}})},N=v=>{Bn(v,{get data(){return e.data},get changeField(){return e.changeField}})},R=v=>{Ze(v,{get data(){return e.data},get changeField(){return e.changeField}})},q=v=>{Cn(v,{get data(){return e.data},get changeField(){return e.changeField}})},I=v=>{pn(v,{get data(){return e.data},get changeField(){return e.changeField}})},O=v=>{xn(v,{get data(){return e.data},get changeField(){return e.changeField}})},U=v=>{var D=Qn(),W=k(D,!0);y(D),B(()=>Y(W,n(t))),E(v,D)};$(i,v=>{n(u)?v(l):e.data.$type==="enum"?v(o,1):n(t)==="boolean"?v(c,2):n(t)==="number"?v(s,3):n(t)==="number2"?v(d,4):n(t)==="boolean2"?v(b,5):n(t)==="number3"?v(_,6):n(t)==="boolean3"?v(h,7):n(t)==="number4"?v(S,8):n(t)==="boolean4"?v(x,9):n(t)==="numberQ"?v(f,10):n(t)==="number2x2"?v(m,11):n(t)==="number3x3"?v(C,12):n(t)==="number4x4"?v(N,13):n(t)==="color"?v(R,14):n(t)==="colorX"?v(q,15):n(t)==="string | null"?v(I,16):n(t)==="string"?v(O,17):v(U,!1)})}E(a,r),L()}var Gn=M('<input type="text" class="svelte-1r99hcu"/> <button class="svelte-1r99hcu"><div id="null" class="svelte-1r99hcu">∅</div></button> <span class="type svelte-1r99hcu"> </span>',1);function Hn(a,e){A(e,!0);const t=p(()=>({...e.data}));let r=p(()=>n(t).targetId||""),i=p(()=>n(t).targetId===null);function l(){n(t).targetId=n(i)?null:n(r),e.changeField(n(t))}function u(){P(i,!0),l()}function o(){P(i,!1)}var c=Gn(),s=H(c);F(s),s.__change=l;var d=g(s,2);d.__click=u;var b=g(d,2),_=k(b);y(b),B(h=>{ve(s,"placeholder",n(i)?"null":""),Y(_,`(${h??""})`)},[()=>Se(n(t).targetType)]),Ce("focus",s,o),w(s,()=>n(r),h=>P(r,h)),E(a,c),L()}Q(["change","click"]);var Xn=M('<div id="outer" class="svelte-1xgy57y"></div>');function Yn(a,e){A(e,!0);const t=p(()=>({...e.data}));function r(l,u){n(t).elements[l]=u,e.changeField(n(t))}var i=Xn();ge(i,21,()=>e.data.elements.entries(),([l,u])=>u.id,(l,u)=>{var o=p(()=>Me(n(u),2));let c=()=>n(o)[0],s=()=>n(o)[1];K(l,{get name(){return c()},get data(){return s()},changeField:r,get update(){return e.update}})}),y(i),E(a,i),L()}var Vn=M('<div id="outer" class="svelte-1apr83h"></div>');function Wn(a,e){A(e,!0);const t=p(()=>({...e.data}));function r(l,u){n(t).members[l]=u,e.changeField(n(t))}var i=Vn();ge(i,21,()=>Object.entries(e.data.members),([l,u])=>u.id,(l,u)=>{var o=p(()=>Me(n(u),2));let c=()=>n(o)[0],s=()=>n(o)[1];K(l,{get name(){return c()},get data(){return s()},changeField:r,get update(){return e.update}})}),y(i),E(a,i),L()}var jn=M('<input type="text"/> <button class="svelte-i3h6g9"><div id="null" class="svelte-i3h6g9">∅</div></button>',1);function Jn(a,e){A(e,!0);const t=p(()=>({...e.data}));let r=p(()=>n(t).type||""),i=p(()=>n(t).type===null);function l(){n(t).type=n(i)?null:n(r),e.changeField(n(t))}function u(){P(i,!0),l()}function o(){P(i,!1)}var c=jn(),s=H(c);F(s),s.__change=l;var d=g(s,2);d.__click=u,B(()=>ve(s,"placeholder",n(i)?"null":"")),Ce("focus",s,o),w(s,()=>n(r),b=>P(r,b)),E(a,c),L()}Q(["change","click"]);var Kn=M('<span id="info" class="svelte-12ew3w3"> </span>'),Zn=M('<span style="grid-column: 1 / 3; text-align: center;" id="title" class="svelte-12ew3w3"> <!> (list):</span> <span style="grid-column: 1 / 3;"><!></span>',1),$n=M('<span id="info" class="svelte-12ew3w3"> </span>'),ea=M('<span class="type svelte-12ew3w3">&lt;empty element&gt;</span>'),ta=M('<span id="title" class="svelte-12ew3w3"> <!>:</span> <span id="field" class="svelte-12ew3w3"><!></span>',1);function K(a,e){A(e,!0);const t=re(e,"displayName",3,"");function r(s){e.changeField(e.name,s)}function i(){T.resoniteLinkMode&&console.log(`${e.name}(${e.data.id})`,e.data),e.update()}var l=Ae(),u=H(l);{var o=s=>{var d=Zn(),b=H(d);b.__click=i;var _=k(b),h=g(_);{var S=m=>{var C=Kn(),N=k(C);y(C),B(()=>Y(N,`(${e.data.id??""})`)),E(m,C)};$(h,m=>{T.resoniteLinkMode&&m(S)})}j(),y(b);var x=g(b,2),f=k(x);Yn(f,{get data(){return e.data},changeField:r,get update(){return e.update}}),y(x),B(()=>Y(_,`${(t()||e.name)??""} `)),E(s,d)},c=s=>{var d=ta(),b=H(d);b.__click=i;var _=k(b,!0),h=g(_);{var S=I=>{var O=$n(),U=k(O);y(O),B(()=>Y(U,`(${e.data.id??""})`)),E(I,O)};$(h,I=>{T.resoniteLinkMode&&I(S)})}j(),y(b);var x=g(b,2),f=k(x);{var m=I=>{var O=ea();E(I,O)},C=I=>{Hn(I,{get data(){return e.data},changeField:r})},N=I=>{Wn(I,{get data(){return e.data},changeField:r,get update(){return e.update}})},R=I=>{Jn(I,{get data(){return e.data},changeField:r})},q=I=>{$e(I,{get data(){return e.data},changeField:r})};$(f,I=>{e.data.$type==="empty"?I(m):e.data.$type==="reference"?I(C,1):e.data.$type==="syncObject"?I(N,2):e.data.$type==="type"?I(R,3):I(q,!1)})}y(x),B(()=>Y(_,t()||e.name)),E(s,d)};$(u,s=>{e.data.$type==="list"?s(o):s(c,!1)})}E(a,l),L()}Q(["click"]);var na=M('<span id="info" class="svelte-37swsf"> </span>'),aa=M('<div id="title" class="svelte-37swsf"> <!></div> <!>',1);function ra(a,e){A(e,!0);async function t(){P(l,(await G.getComponent(e.componentId)).data),T.resoniteLinkMode&&console.log(`${Se(n(l).componentType)}(${e.componentId})`,n(l))}function r(h,S){G.updateComponent({id:e.componentId,members:{[h]:S}}).finally(async()=>{P(l,(await G.getComponent(e.componentId)).data)})}async function i(){P(l,(await G.getComponent(e.componentId)).data)}var l,u=Ee([async()=>{var h=await Xe(()=>G.getComponent(e.componentId));l=p(()=>n(h).data)}]),o=aa(),c=H(o);c.__click=t;var s=k(c),d=g(s);{var b=h=>{var S=na(),x=k(S);y(S),B(()=>Y(x,`(${n(l).id??""})`),void 0,void 0,[u[0]]),E(h,S)};$(d,h=>{T.resoniteLinkMode&&h(b)})}y(c);var _=g(c,2);X(_,[u[0]],void 0,h=>{ge(h,17,()=>Object.entries(n(l).members||{}),([S,x])=>x.id,(S,x)=>{var f=p(()=>Me(n(x),2));let m=()=>n(f)[0],C=()=>n(f)[1];X(S,[u[0],u[0]],void 0,N=>{K(N,{get name(){return m()},get data(){return C()},get changeField(){return r},get update(){return i}})}),j()})}),B(h=>Y(s,`${h??""} `),[()=>Se(n(l).componentType)],void 0,[u[0]]),E(a,o),L()}Q(["click"]);var la=M('<span id="info" class="svelte-wk45c3"> </span>'),ia=M("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),ua=M('<div id="outer" class="svelte-wk45c3"><div id="topbar" class="svelte-wk45c3"><div id="title" class="svelte-wk45c3"> <!></div></div> <div id="content" class="svelte-wk45c3"><!></div></div>');function oa(a,e){A(e,!0);async function t(x,f){await G.updateSlot({id:T.selectedSlot,[x]:f}),P(u,(await G.getSlot(T.selectedSlot)).data)}async function r(x,f){await t(x,f),pe(T.selectedSlot)}async function i(x,f){const m=n(u).parent.targetId;await t(x,f),m&&pe(m),n(u).parent.targetId&&pe(n(u).parent.targetId),console.log(m)}async function l(){P(u,(await G.getSlot(T.selectedSlot)).data)}var u,o=Ee([async()=>{var x=await Xe(async()=>T.selectedSlot===""?{data:null}:await G.getSlot(T.selectedSlot));u=p(()=>n(x).data)},()=>{Ve(()=>{T.componentUpdate=l})},()=>{Ye(()=>{T.componentUpdate=()=>{}})}]),c=ua(),s=k(c),d=k(s),b=k(d),_=g(b);X(_,[o[1],o[2]],void 0,x=>{var f=m=>{var C=la(),N=k(C);y(C),B(()=>Y(N,`(${T.selectedSlot??""})`),void 0,void 0,[o[2]]),E(m,C)};$(x,m=>{n(u)&&T.resoniteLinkMode&&m(f)})}),y(d),y(s);var h=g(s,2),S=k(h);X(S,[o[1]],void 0,x=>{var f=m=>{var C=ia(),N=H(C);X(N,[o[1],o[2],o[1]],void 0,V=>{let z=p(()=>({...n(u).name,$type:"string"}));K(N,{displayName:"Name",name:"name",get data(){return n(z)},get changeField(){return r},get update(){return l}})});var R=g(N,2);X(R,[o[1],o[2],o[1]],void 0,V=>{let z=p(()=>({...n(u).parent,$type:"reference"}));K(R,{displayName:"Parent",name:"parent",get data(){return n(z)},get changeField(){return i},get update(){return l}})});var q=g(R,2);X(q,[o[1],o[2],o[1]],void 0,V=>{let z=p(()=>({...n(u).tag,$type:"string"}));K(q,{displayName:"Tag",name:"tag",get data(){return n(z)},get changeField(){return t},get update(){return l}})});var I=g(q,2);X(I,[o[1],o[2],o[1]],void 0,V=>{let z=p(()=>({...n(u).isActive,$type:"bool"}));K(I,{displayName:"Active",name:"isActive",get data(){return n(z)},get changeField(){return r},get update(){return l}})});var O=g(I,2);X(O,[o[1],o[2],o[1]],void 0,V=>{let z=p(()=>({...n(u).isPersistent,$type:"bool"}));K(O,{displayName:"Persistent",name:"isPersistent",get data(){return n(z)},get changeField(){return r},get update(){return l}})});var U=g(O,2);X(U,[o[1],o[2],o[1]],void 0,V=>{let z=p(()=>({...n(u).position,$type:"float3"}));K(U,{displayName:"Position",name:"position",get data(){return n(z)},get changeField(){return t},get update(){return l}})});var v=g(U,2);X(v,[o[1],o[2],o[1]],void 0,V=>{let z=p(()=>({...n(u).rotation,$type:"floatQ"}));K(v,{displayName:"Rotation",name:"rotation",get data(){return n(z)},get changeField(){return t},get update(){return l}})});var D=g(v,2);X(D,[o[1],o[2],o[1]],void 0,V=>{let z=p(()=>({...n(u).scale,$type:"float3"}));K(D,{displayName:"Scale",name:"scale",get data(){return n(z)},get changeField(){return t},get update(){return l}})});var W=g(D,2);X(W,[o[1],o[2],o[1]],void 0,V=>{let z=p(()=>({...n(u).orderOffset,$type:"long"}));K(W,{displayName:"OrderOffset",name:"orderOffset",get data(){return n(z)},get changeField(){return t},get update(){return l}})});var te=g(W,2);X(te,[o[1]],void 0,V=>{ge(V,17,()=>n(u).components||[],z=>z.id,(z,fe)=>{ra(z,{get componentId(){return n(fe).id}})})}),E(m,C)};$(x,m=>{n(u)&&m(f)})}),y(h),y(c),B(()=>Y(b,`Slot: ${(n(u)?n(u).name.value:"")??""} `),void 0,void 0,[o[1]]),E(a,c),L()}var sa=M('<div id="outer"><!> <div id="inspector" class="svelte-1uha8ag"><div style="height: 100%;"><!></div> <div style="height: 100%;"><!></div></div></div>');function fa(a){var e=sa(),t=k(e);en(t,{});var r=g(t,2),i=k(r),l=k(i);un(l,{}),y(i);var u=g(i,2),o=k(u);oa(o,{}),y(u),y(r),y(e),E(a,e)}export{fa as component};
